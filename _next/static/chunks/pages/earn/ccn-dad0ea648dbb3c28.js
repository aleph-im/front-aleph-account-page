(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{39252:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/ccn",function(){return n(72739)}])},36493:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(85893),a=n(19521),s=n(67294),r=n(63608);let o=(0,a.ZP)(r.Z).attrs(e=>{let{$performance:t,...n}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledAPYIcon",componentId:"sc-1z11sih-0"})([""]);var l=n(47630),c=n(7251);let d=(0,s.memo)(e=>{let{node:t,nodes:n}=e,a=new l.S,r=a.computeEstimatedStakersAPY(t,n),d=a.currentAPY(n),m=r/d,u=(0,s.useMemo)(()=>t.crnsData.length<3||t.crnsData.find(e=>e.score<.2),[t]),h=(0,i.jsxs)(p,{children:[(0,i.jsx)(o,{$performance:m}),Number(100*r).toFixed(2),"%"]});return(0,i.jsx)(i.Fragment,{children:u?(0,i.jsx)(c.u,{my:"top-center",at:"bottom-center",content:(0,i.jsxs)("div",{className:"fs-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[3-t.crnsData.length," missing CRN"]}),(0,i.jsx)("div",{className:"fs-xs",children:"Link 3 functioning CRN to that Node to maximise its rewards"})]}),(0,i.jsxs)("div",{children:["Performance: ",Number(100*m).toFixed(2),"%"]})]}),header:"Staking performance",children:h}):h})});d.displayName="APYCell";var m=d,p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y5e56o-0"})({display:"flex",alignItems:"center",gap:"0.75rem"})},66006:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(85893),a=n(19521),s=n(67294),r=n(47630),o=n(34816),l=n(43815),c=n(42983),d=n(88459),m=n(7251),p=n(63608),u=n(87625);let h=(0,s.memo)(e=>{let{title:t,nodes:n}=e,c=(0,s.useMemo)(()=>new r.S,[]),d=(0,a.Fg)(),m=(0,s.useMemo)(()=>{let e=n.length,t=c.activeNodes(n).length,i=e-t;return[{label:"Active nodes",value:t,percentage:t/e,gradient:"main0"},{label:"Non active",value:i,percentage:i/e,color:"".concat(d.color.base0,"20")}]},[n,c,d]);return(0,i.jsxs)(x,{children:[(0,i.jsx)(y,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(_,{data:m,width:100,height:100,children:[(0,i.jsx)("defs",{children:(0,i.jsx)(u._,{data:m})}),(0,i.jsx)(o.b,{data:m,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:540,endAngle:360,children:m.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?d.color[e.color]||e.color:void 0;return(0,i.jsx)(l.b,{fill:n},e.label)})})]}),(0,i.jsx)(v,{children:m.map(e=>(0,i.jsxs)(j,{children:[(0,i.jsx)(p.Z,{$color:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,i.jsxs)(N,{className:"tp-body2",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)("div",{className:"fs-xs",children:e.label})]})]},e.label))})]})]})});h.displayName="ActiveNodeChart";var g=h,x=(0,a.ZP)(d.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-1iwyxnm-0"})({width:"auto",minWidth:"148px"}),y=(0,a.ZP)(m.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1iwyxnm-1"})({marginBottom:"1.5rem"}),f=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1iwyxnm-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),_=(0,a.ZP)(c.u).withConfig({displayName:"cmp___StyledPieChart",componentId:"sc-1iwyxnm-3"})({marginBottom:"-2.5rem"}),v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1iwyxnm-4"})({zIndex:"1",marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1iwyxnm-5"})({display:"flex",alignItems:"center",gap:"0.75rem"}),N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1iwyxnm-6"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"})},65359:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),a=n(19521),s=n(67294);let r=a.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-8oaxhu-0"})(e=>{let{theme:t,$score:n}=e,i=void 0===n?"".concat(t.color.base0,"20"):n>=.8?t.color.main1:n>=.5?t.color.main0:t.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,a.iv)(["background-color:",";"],i)]}),o=(0,s.memo)(e=>{let{nodes:t,max:n=3}=e;return(0,i.jsxs)(c,{children:[(0,i.jsx)(d,{children:Array.from({length:n}).map((e,n)=>{var a;return(0,i.jsx)(r,{$score:null===(a=t[n])||void 0===a?void 0:a.score},n)})}),(0,i.jsxs)(m,{className:"fs-xs",children:[t.length," ",(0,i.jsxs)(p,{children:["of ",n]})]})]})});o.displayName="LinkedCell";var l=o,c=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-s5fbn9-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),d=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-s5fbn9-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-s5fbn9-2"})({whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-s5fbn9-3"})({opacity:"0.2"})},89786:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),a=n(19521),s=n(67294);let r=a.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1yxgl5m-0"})(e=>{let{theme:t,$percent:n}=e,i=n>=1?t.color.main1:t.color.main0,s="".concat(t.color.base0,"20");return[{position:"relative",height:"0.125rem",width:"100%"},(0,a.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],s,{position:"absolute",left:"0px",top:"0px",height:"100%"},i,100*n)]}),o=(0,s.memo)(e=>{let{staked:t,status:n}=e,a=Number(t/1e3).toFixed(0);return(0,i.jsxs)(c,{className:"fs-xs",children:[(0,i.jsxs)(d,{className:"fs-xs",children:[(0,i.jsxs)("div",{children:[a,"k ",(0,i.jsx)(m,{children:"of 500k"})]}),(0,i.jsx)("div",{className:"fs-xxs",children:n.toUpperCase()})]}),(0,i.jsx)(p,{children:(0,i.jsx)(r,{$percent:Math.min(t,5e5)/5e5})})]})});o.displayName="StakedCell";var l=o,c=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-mc9kar-0"})({lineHeight:"1rem"}),d=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-mc9kar-1"})({marginBottom:"0.625rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375rem",whiteSpace:"nowrap",lineHeight:"1rem"}),m=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-mc9kar-2"})({opacity:"0.2"}),p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-mc9kar-3"})({display:"flex",alignItems:"center",gap:"0.25rem"})},10375:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(85893),a=n(19521),s=n(67294),r=n(63608);let o=(0,a.ZP)(r.Z).attrs(e=>{let{$status:t,...n}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledVersionIcon",componentId:"sc-iae05r-0"})([""]);var l=n(64486),c=n(7251),d=n(9700);let m=(0,s.memo)(e=>{var t;let{node:n}=e,a=(0,s.useMemo)(()=>new l.B,[]),r=(0,s.useCallback)(()=>a.getLatestVersion(n),[n,a]),{data:m}=(0,d.Q)({doRequest:r,triggerOnMount:!0,onSuccess:()=>null}),p=(0,s.useMemo)(()=>m?a.isNodeUptodate(n,m)&&!a.isNodeExperimental(n,m)?1:a.isNodeOutdated(n,m)||a.isNodeExperimental(n,m)?.5:0:0,[n,m,a]),h=(0,s.useMemo)(()=>m?a.isNodeLatest(n,m)?"latest":a.isNodePrerelease(n,m)?"prerelease":a.isNodeExperimental(n,m)?"experimental":a.isNodeOutdated(n,m)?"outdated":"obsolete":"",[n,m,a]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.u,{my:"top-center",at:"bottom-center",content:(0,i.jsxs)("div",{className:"fs-sm",children:["(",h,")"]}),header:"Staking performance",children:(0,i.jsxs)(u,{children:[(0,i.jsx)(o,{$status:p}),(null===(t=n.metricsData)||void 0===t?void 0:t.version)||"-"]})})})});m.displayName="VersionCell";var p=m,u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-i7l1ld-0"})({display:"flex",alignItems:"center",gap:"0.75rem",whiteSpace:"nowrap"})},87625:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var i=n(85893),a=n(19521);function s(e){let{data:t}=e,n=(0,a.Fg)();return(0,i.jsx)(i.Fragment,{children:t.filter(e=>!!e.gradient).map((e,t)=>{if(!e.gradient)return null;let{colors:a,deg:s,stops:r}="string"==typeof e.gradient?n.gradient[e.gradient]:e.gradient,o="string"==typeof e.gradient?"gr-".concat(e.gradient):"gr-".concat(t);return(0,i.jsx)("linearGradient",{id:o,gradientTransform:"rotate(".concat(s+-90," 0.5 0.5)"),children:a.map((e,t)=>(0,i.jsx)("stop",{offset:"".concat(r[t],"%"),stopColor:e},e))},o)})})}},96272:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var i=n(36470),a=n(64486),s=n(9700),r=n(7251),o=n(67294);function l(e){let{nodes:t}=e,[{account:n,accountBalance:l=0}]=(0,i.mr)(),c=(0,o.useMemo)(()=>new a.B(n),[n]),d=(0,o.useCallback)(async()=>await c.getCCNNodes(),[c]),[m,p]=(0,o.useState)(Date.now()),u=(0,r.$P)(m,1e4),{data:h}=(0,s.Q)({doRequest:d,triggerOnMount:!0,triggerDeps:[u],onSuccess:()=>null}),[g,x]=(0,o.useState)(""),y=(0,r.$P)(g,200),f=(0,o.useCallback)(e=>{let t=e.target.value;x(t)},[]),_=(0,o.useCallback)((e,t)=>t?e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):e,[]),v=(0,o.useMemo)(()=>(t||h||[]).sort((e,t)=>t.score-e.score),[t,h]),j=(0,o.useMemo)(()=>_(v,y),[_,y,v]);return{account:n,accountBalance:l,nodes:v,filteredNodes:j,filter:g,handleFilterChange:f,setLastUpdate:p}}},72739:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var i=n(85893),a=n(19521),s=n(67294),r=n(9008),o=n.n(r),l=n(7251),c=n(36470),d=n(64486),m=n(96272),p=n(68461),u=n(29512),h=n(65359),g=n(88968),x=n(36493),y=n(89786),f=n(10375);let _=(0,s.memo)(e=>{let{nodes:t,filteredNodes:n}=e,a=(0,s.useMemo)(()=>{let e=[{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,i.jsx)(g.Z,{score:e.score})},{label:"LINKED",sortable:!0,sortBy:e=>e.resource_nodes.length,render:e=>(0,i.jsx)(h.Z,{nodes:e.crnsData})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,i.jsx)(u.Z,{hash:e.hash,name:e.name,picture:e.picture,locked:e.locked})},{label:"STAKED",sortable:!0,sortBy:e=>e.total_staked,render:e=>(0,i.jsx)(y.Z,{staked:e.total_staked,status:e.status})},{label:"EST. APY",render:e=>(0,i.jsx)(x.Z,{node:e,nodes:t})},{label:"VERSION",sortable:!0,width:"20%",sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>(0,i.jsx)(f.Z,{node:e,nodes:t})},{label:"",align:"right",render:()=>(0,i.jsx)(v,{children:(0,i.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",children:"Info"})})}];return e.map((t,n)=>(t.width=n===e.length-1?"100%":"".concat(80/e.length-2,"%"),t))},[t]);return(0,i.jsx)(p.Z,{columns:a,data:n})});_.displayName="CoreChannelNodesTable";var v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1gsmq73-0"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),j=n(47630),N=n(42983),w=n(34816),C=n(43815),S=n(88459),b=n(63608),I=n(87625);let Z=(0,s.memo)(e=>{let{nodes:t}=e,n=(0,s.useMemo)(()=>new j.S,[]),r=(0,a.Fg)(),o=(0,s.useMemo)(()=>{let e=n.totalStakedByOperators(t),i=n.totalStaked(t),a=i-e;return[{label:"Stakers",value:"".concat((a/1e6).toFixed(2),"M"),percentage:a/i,gradient:"main0"},{label:"Node operators",value:"".concat((a/1e6).toFixed(2),"M"),percentage:e/i,color:"main1"}]},[t,n]);return(0,i.jsxs)(P,{children:[(0,i.jsx)(D,{forwardedAs:"h3",type:"info",color:"main0",children:"STAKED"}),(0,i.jsxs)(k,{children:[(0,i.jsxs)(N.u,{data:o,width:100,height:100,children:[(0,i.jsx)("defs",{children:(0,i.jsx)(I._,{data:o})}),(0,i.jsx)(w.b,{data:o,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,children:o.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?r.color[e.color]||e.color:void 0;return(0,i.jsx)(C.b,{fill:n},e.label)})})]}),(0,i.jsx)(A,{children:o.map(e=>(0,i.jsxs)(M,{children:[(0,i.jsx)(b.Z,{$color:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,i.jsxs)(E,{className:"tp-body2",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)("div",{className:"fs-xs",children:e.label})]})]},e.label))})]})]})});Z.displayName="StakeChart";var P=(0,a.ZP)(S.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-1x6nlsc-0"})({width:"auto",minWidth:"152px"}),D=(0,a.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1x6nlsc-1"})({marginBottom:"1.5rem"}),k=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1x6nlsc-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),A=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1x6nlsc-3"})({marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),M=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1x6nlsc-4"})({display:"flex",alignItems:"center",gap:"0.75rem"}),E=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1x6nlsc-5"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),B=n(66006);let F=(0,s.memo)(e=>{let{nodes:t,filteredNodes:n,filteredUserNodes:a,tabs:r,selectedTab:p,filter:u,handleTabChange:h,handleFilterChange:g}=function(e){let[{account:t,accountBalance:n=0}]=(0,c.mr)(),i=(0,s.useMemo)(()=>new d.B(t),[t]),{nodes:a,filteredNodes:r,...o}=(0,m.v)(e),l=(0,s.useCallback)(e=>e.filter(e=>i.isUserNode(e)),[i]),p=(0,s.useMemo)(()=>l(a),[l,a]),u=(0,s.useMemo)(()=>l(r),[l,r]),[h,g]=(0,s.useState)("user"),x=p.length?h:"nodes",y=(0,s.useMemo)(()=>{let e=[{id:"user",name:"My core nodes",disabled:!p.length},{id:"nodes",name:"All core nodes"}];return e},[p]);return{account:t,accountBalance:n,nodes:a,filteredNodes:r,userNodes:p,filteredUserNodes:u,selectedTab:x,tabs:y,...o,handleTabChange:g}}(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Aleph.im | Account"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)($,{className:"tp-h5",children:"Core nodes"})}),(0,i.jsx)("section",{children:(0,i.jsxs)(T,{children:[(0,i.jsx)(Z,{nodes:t}),(0,i.jsx)(B.Z,{nodes:t,title:"CORE CHANNEL NODES"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(O,{className:"tp-h7",children:"What is a core node?"}),(0,i.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum aliquam lectus non eros malesuada egestas eu vitae ipsum. Donec sed faucibus sapien. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aenean at scelerisque tortor."})]})]})}),(0,i.jsxs)(L,{children:[(0,i.jsxs)(R,{children:[(0,i.jsx)(l.mQ,{tabs:r,align:"left",selected:p,onTabChange:h}),(0,i.jsx)(l.oi,{value:u,name:"filter-ccn",placeholder:"Search me",onChange:g})]}),"user"===p?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_,{nodes:t,filteredNodes:a})}):(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(_,{nodes:t,filteredNodes:n}):(0,i.jsx)(i.Fragment,{children:"Loading..."})})]})]})});F.displayName="CoreChannelNodesPage";var $=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-yt8x4y-0"})({marginBottom:"2rem"}),T=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yt8x4y-1"})({display:"flex",alignItems:"stretch",gap:"2.25rem"}),O=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH2",componentId:"sc-yt8x4y-2"})({marginBottom:"0px"}),L=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-yt8x4y-3"})({marginTop:"3.5rem"}),R=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-yt8x4y-4"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),H=F}},function(e){e.O(0,[733,956,78,861,845,390,852,626,572,162,983,9,774,888,179],function(){return e(e.s=39252)}),_N_E=e.O()}]);