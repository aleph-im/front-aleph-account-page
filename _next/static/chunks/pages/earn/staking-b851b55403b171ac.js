(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{44994:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/staking",function(){return n(54076)}])},36493:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(85893),i=n(19521),s=n(67294),o=n(63608);let r=(0,i.ZP)(o.Z).attrs(e=>{let{$performance:t,...n}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledAPYIcon",componentId:"sc-1z11sih-0"})([""]);var l=n(47630);let d=(0,s.memo)(e=>{let{node:t,nodes:n}=e,i=new l.S,s=i.computeEstimatedStakersAPY(t,n),o=i.currentAPY(n);return(0,a.jsxs)(m,{children:[(0,a.jsx)(r,{$performance:s/o}),Number(100*s).toFixed(2),"%"]})});d.displayName="APYCell";var c=d,m=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y5e56o-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"})},65359:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(85893),i=n(19521),s=n(67294);let o=i.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-8oaxhu-0"})(e=>{let{theme:t,$score:n}=e,a=void 0===n?"".concat(t.color.base0,"20"):n>=.8?t.color.main1:n>=.5?t.color.main0:t.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,i.iv)(["background-color:",";"],a)]}),r=(0,s.memo)(e=>{let{nodes:t,max:n=3}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{children:Array.from({length:n}).map((e,n)=>{var i;return(0,a.jsx)(o,{$score:null===(i=t[n])||void 0===i?void 0:i.score},n)})}),(0,a.jsxs)(m,{className:"fs-10",children:[t.length," ",(0,a.jsxs)(p,{children:["of ",n]})]})]})});r.displayName="LinkedCell";var l=r,d=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-s5fbn9-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),c=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-s5fbn9-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),m=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-s5fbn9-2"})({whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,i.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-s5fbn9-3"})({opacity:"0.2"})},89786:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(85893),i=n(19521),s=n(67294);let o=i.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1yxgl5m-0"})(e=>{let{theme:t,$percent:n}=e,a=n>=1?t.color.main1:t.color.main0,s="".concat(t.color.base0,"20");return[{position:"relative",height:"0.125rem",width:"100%"},(0,i.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],s,{position:"absolute",left:"0px",top:"0px",height:"100%"},a,100*n)]});var r=n(7251);let l=(0,s.memo)(e=>{let{staked:t,status:n,locked:i}=e,s=Number(t/1e3).toFixed(0);return(0,a.jsxs)(c,{className:"fs-10",children:[(0,a.jsxs)(m,{children:[(0,a.jsxs)("div",{children:[s,"k ",(0,a.jsx)(p,{children:"of 500k"})]}),(0,a.jsxs)(h,{children:[n.toUpperCase(),i&&(0,a.jsx)(r.JO,{name:"lock",size:"xs"})]})]}),(0,a.jsx)(u,{children:(0,a.jsx)(o,{$percent:Math.min(t,5e5)/5e5})})]})});l.displayName="StakedCell";var d=l,c=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-mc9kar-0"})({width:"100%",lineHeight:"1rem"}),m=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-mc9kar-1"})({marginBottom:"0.625rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375rem",whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,i.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-mc9kar-2"})({opacity:"0.2"}),h=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-mc9kar-3"})({display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.375rem"}),u=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-mc9kar-4"})({display:"flex",alignItems:"center",gap:"0.25rem"})},96272:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var a=n(36470),i=n(64486),s=n(9700),o=n(7251),r=n(67294);function l(e){let{nodes:t}=e,[{account:n,accountBalance:l=0}]=(0,a.mr)(),d=(0,r.useMemo)(()=>new i.B(n),[n]),c=(0,r.useCallback)(async()=>await d.getCCNNodes(),[d]),[m,p]=(0,r.useState)(Date.now()),h=(0,o.$P)(m,1e4),{data:u}=(0,s.Q)({doRequest:c,triggerOnMount:!0,triggerDeps:[h],onSuccess:()=>null}),g=(0,r.useCallback)(()=>d.getLatestCCNVersion(),[d]),{data:y}=(0,s.Q)({doRequest:g,triggerOnMount:!0,onSuccess:()=>null,onError:()=>null}),[x,f]=(0,r.useState)(""),_=(0,o.$P)(x,200),w=(0,r.useCallback)(e=>{let t=e.target.value;f(t)},[]),v=(0,r.useCallback)((e,t)=>t?e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):e,[]),j=(0,r.useMemo)(()=>(t||u||[]).sort((e,t)=>t.score-e.score),[t,u]),S=(0,r.useMemo)(()=>v(j,_),[v,_,j]);return{account:n,accountBalance:l,nodes:j,filteredNodes:S,filter:x,lastVersion:y,handleFilterChange:w,setLastUpdate:p}}},54076:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ea}});var a=n(85893),i=n(19521),s=n(67294),o=n(9008),r=n.n(o),l=n(7251),d=n(36470),c=n(64486),m=n(47630),p=n(96272),h=n(9700);let u=(0,i.ZP)(l.iA).withConfig({displayName:"styles__StyledTable",componentId:"sc-b7wjwz-0"})(["&&{thead{","}td,th{"," border-bottom:1px solid #ffffff22;&:first-child{","}}}"],{display:"none"},{width:"0px",maxWidth:"0rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},{textAlign:"left",fontSize:"0.75rem",lineHeight:"1rem",textTransform:"uppercase"});var g=n(88459);let y=(0,s.memo)(e=>{let{nodes:t}=e,[n,i]=(0,s.useState)(1e3),o=(0,s.useCallback)(e=>{let t=e.target.value?Number(e.target.value):void 0;i(t)},[]),r=(0,s.useMemo)(()=>{let e=new m.S,a=e.totalPerAlephPerDay(t)*(n||0),i=100*e.currentAPY(t);return[{name:"Rewards per day",value:"".concat(a.toFixed(2)," ALEPH")},{name:"Current APY",value:"".concat(i.toFixed(2),"%")}]},[t,n]);return(0,a.jsx)(g.Z,{children:(0,a.jsxs)(x,{children:[(0,a.jsx)(f,{forwardedAs:"h3",type:"info",color:"main0",children:"REWARD CALCULATOR"}),(0,a.jsx)(_,{children:(0,a.jsx)(l.oi,{value:n,onChange:o,type:"number",name:"staked-amount",placeholder:"0",label:"Amount staked",buttonStyle:"wrapped"})}),(0,a.jsx)(u,{borderType:"solid",rowKey:e=>e.name,columns:[{label:"",render:e=>e.name},{label:"",render:e=>e.value}],data:r})]})})});y.displayName="RewardCalculator";var x=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-15iqn8s-0"})({width:"320px",overflow:"auto"}),f=(0,i.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-15iqn8s-1"})({marginBottom:"1.5rem"}),_=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-15iqn8s-2"})({marginBottom:"1rem"}),w=n(68461),v=n(29512),j=n(65359),S=n(88968),k=n(36493),C=n(89786);let b=(0,s.memo)(e=>{let{node:t,stakeNodes:n,account:i,accountBalance:o=0,onStake:r,onUnStake:d}=e,m=(0,s.useMemo)(()=>new c.B(i),[i]),p=(0,s.useMemo)(()=>!!i&&!!t.stakers[i.address],[i,t]),h=(0,s.useMemo)(()=>{let[e]=m.isStakeable(t,o,n);return!e},[m,t,o,n]),u=(0,s.useCallback)(()=>{p?d(t.hash):r(t.hash)},[p,d,t.hash,r]);return(0,a.jsx)(a.Fragment,{children:p?(0,a.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main2",onClick:u,children:"UnStake"}):(0,a.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",onClick:u,disabled:h,children:"Stake"})})});b.displayName="StakeButton";let N=(0,s.memo)(e=>{let{amount:t}=e;return(0,a.jsxs)(P,{children:[t.toFixed(2),(0,a.jsx)(l.TR,{text:""})]})});N.displayName="AmountCell";var P=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-103j8hg-0"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"});let I=(0,s.memo)(e=>{let{nodes:t,stakeNodes:n,filteredNodes:i,account:o,accountBalance:r,showStakedAmount:d,handleStake:c,handleUnStake:m}=e,p=(0,s.useMemo)(()=>{let e=[{label:"EST. APY",render:e=>(0,a.jsx)(k.Z,{node:e,nodes:t})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,a.jsx)(v.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"STAKED",sortable:!0,sortBy:e=>e.total_staked,render:e=>(0,a.jsx)(C.Z,{staked:e.total_staked,status:e.status,locked:e.locked})},{label:"LINKED",sortable:!0,sortBy:e=>e.resource_nodes.length,render:e=>(0,a.jsx)(j.Z,{nodes:e.crnsData})},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,a.jsx)(S.Z,{score:e.score})},{label:"",align:"right",render:e=>(0,a.jsxs)(Z,{children:[(0,a.jsx)(b,{node:e,account:o,accountBalance:r,stakeNodes:n,onStake:c,onUnStake:m}),(0,a.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",children:"Info"})]})}];return d&&o&&e.splice(e.length-1,0,{label:"AMOUNT",sortable:!0,sortBy:e=>e.stakers[o.address]||0,render:e=>(0,a.jsx)(N,{amount:e.stakers[o.address]||0})}),e.map((t,n)=>(t.width=n===e.length-1?"100%":"".concat(70/e.length-1,"%"),t))},[o,r,t,c,m,d,n]);return(0,a.jsx)(w.Z,{columns:p,data:i,borderType:"solid",oddRowNoise:!0})});I.displayName="StakingNodesTable";var Z=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1pzgecm-0"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),D=n(42983),A=n(34816),M=n(43815),R=n(63608),T=n(87625);let B=(0,s.memo)(e=>{let{nodes:t,stake:n,rewards:o,disabled:r}=e,d=(0,s.useMemo)(()=>new m.S,[]),c=(0,i.Fg)(),p=(0,s.useMemo)(()=>10*d.totalPerAlephPerDay(t)*n,[t,n,d]),h=(0,s.useMemo)(()=>Math.ceil(10*(1-(o||0)/p)),[o,p]),u=(0,s.useMemo)(()=>{let e=o||0,t=p-e;return[{label:"Estimated Rewards",value:e,percentage:e/p,gradient:"main1"},{label:"Pending rewards",value:t,percentage:t/p,color:"transparent"}]},[p,o]);return(0,a.jsxs)(z,{disabled:r,children:[(0,a.jsx)(E,{forwardedAs:"h3",type:"info",color:r?"base0":"main0",children:"STAKING REWARDS"}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(D.u,{data:u,width:100,height:100,children:[(0,a.jsx)("defs",{children:(0,a.jsx)(T._,{data:u})}),(0,a.jsx)(A.b,{data:[{v:1}],dataKey:"v",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",isAnimationActive:!0,fill:"".concat(c.color.base0,"20")}),(0,a.jsx)(A.b,{data:u,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,children:u.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?c.color[e.color]||e.color:void 0;return(0,a.jsx)(M.b,{fill:n},e.label)})})]}),(0,a.jsxs)(L,{children:[(0,a.jsxs)(O,{children:[(0,a.jsx)(R.Z,{$color:"main1",$size:"1.25rem"}),(0,a.jsxs)(U,{className:"tp-body3",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(Y,{children:[p.toFixed(2),(0,a.jsx)(l.TR,{text:"",size:"0.75rem"})]})}),(0,a.jsx)(H,{className:"fs-10",children:"Est. Rewards"})]})]}),h?(0,a.jsxs)($,{className:"tp-body1 fs-10",children:["Next payout in ",h," days."]}):(0,a.jsx)("div",{children:"\xa0"})]})]})]})});B.displayName="StakeRewardChart";var z=(0,i.ZP)(g.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-7gox68-0"})({width:"auto",minWidth:"154px"}),E=(0,i.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-7gox68-1"})({marginBottom:"1.5rem"}),F=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-7gox68-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),L=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-7gox68-3"})({marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),O=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-7gox68-4"})({display:"flex",alignItems:"center",gap:"0.75rem"}),U=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-7gox68-5"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),Y=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-7gox68-6"})({display:"inline-flex",alignItems:"center",gap:"0.25rem"}),H=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-7gox68-7"})({opacity:"0.6"}),$=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-7gox68-8"})({textAlign:"center",opacity:"0.6"}),K=n(49869);let W=(0,s.memo)(e=>{let{account:t,accountBalance:n,nodes:i,stakeNodes:o,filteredNodes:u,filteredStakeNodes:g,tabs:x,selectedTab:f,filter:_,stakeableOnly:w,userStake:v,userRewards:j,handleTabChange:S,handleFilterChange:k,handleStake:C,handleUnStake:b,handleChangeStakeableOnly:N}=function(e){let[{account:t,accountBalance:n=0}]=(0,d.mr)(),{rewards:a}=function(){let[{account:e}]=(0,d.mr)(),t=(0,s.useMemo)(()=>new m.S(e),[e]),n=(0,s.useCallback)(()=>t.getLastUserStakingRewards(),[t]),{data:a}=(0,h.Q)({doRequest:n,onSuccess:()=>null,triggerOnMount:!0,triggerDeps:[t]});return{rewards:a}}(),i=(0,s.useMemo)(()=>new c.B(t),[t]),{nodes:o,filteredNodes:r,setLastUpdate:l,...u}=(0,p.v)(e),[g,y]=(0,s.useState)(!0),x=(0,s.useCallback)(async e=>{let t=e.target.checked;y(t)},[]),f=(0,s.useCallback)(e=>e.filter(e=>i.isUserStake(e)),[i]),_=(0,s.useMemo)(()=>f(o),[f,o]),w=(0,s.useMemo)(()=>f(r),[f,r]),v=(0,s.useMemo)(()=>g&&t?r.filter(e=>i.isStakeable(e,n,[])[0]&&!i.isUserStake(e)):r,[g,r,t,i,n]),[j,S]=(0,s.useState)("stake"),k=_.length?j:"nodes",C=(0,s.useMemo)(()=>{let e=[{id:"stake",name:"My stakes",disabled:!_.length},{id:"nodes",name:"All core nodes"}];return e},[_]),b=(0,s.useMemo)(()=>new m.S(t),[t]),N=(0,s.useCallback)(async e=>{await b.stake(e),l(Date.now())},[l,b]),P=(0,s.useCallback)(async e=>{await b.unStake(e),l(Date.now())},[l,b]),I=(0,s.useMemo)(()=>b.totalStakedByUser(o),[o,b]);return{account:t,accountBalance:n,nodes:o,stakeNodes:_,filteredNodes:v,filteredStakeNodes:w,selectedTab:k,tabs:C,stakeableOnly:g,userStake:I,userRewards:a,...u,handleTabChange:S,handleStake:N,handleUnStake:P,handleChangeStakeableOnly:x,setLastUpdate:l}}(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Aleph.im | Account"}),(0,a.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)("section",{children:(0,a.jsx)(q,{className:"tp-h5",children:"Staking"})}),(0,a.jsx)("section",{children:(0,a.jsx)(K.Z,{children:(0,a.jsxs)(Q,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(J,{className:"tp-h7",children:"What is staking with Aleph.im?"}),(0,a.jsxs)("p",{children:["Staking is the heartbeat of our dynamic peer-to-peer network, driving security, decentralization, and rewards. Stakers, the lifeblood of our ecosystem, with a minimum stake of 10,000 Aleph tokens, form the network's foundation. Rewards are distributed every 10 days and are auto-compounded, allowing your stake to grow organically. The Annual Percentage Yield (APY) depends on factors like linked Compute Resource Nodes (CRNs) and node scoring, ensuring a fair and dynamic staking experience. Aleph.im staking empowers you to control the controllers, shaping decentralized connectivity while earning rewards for your participation. Plus, it's non-custodial."," ",(0,a.jsx)(X,{className:"text-main1",children:"Join us today!"})]})]}),i&&(0,a.jsx)(V,{children:(0,a.jsx)(y,{nodes:i})}),(0,a.jsx)(B,{rewards:j,stake:v,nodes:i,disabled:!t})]})})}),(0,a.jsxs)(ee,{children:[(0,a.jsxs)(et,{children:[(0,a.jsxs)(en,{children:[(0,a.jsx)(l.mQ,{tabs:x,align:"left",selected:f,onTabChange:S}),(0,a.jsx)(l.XZ,{label:"Ready to stake",checked:w,onChange:N,size:"xs",disabled:!t||"nodes"!==f})]}),(0,a.jsx)(l.oi,{value:_,name:"filter-ccn",placeholder:"Search me",onChange:k,icon:(0,a.jsx)(l.JO,{name:"search"})})]}),"stake"===f?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(I,{nodes:i,filteredNodes:g,stakeNodes:o,accountBalance:n,account:t,handleStake:C,handleUnStake:b,showStakedAmount:!0})}):(0,a.jsx)(a.Fragment,{children:i?(0,a.jsx)(I,{nodes:i,filteredNodes:u,stakeNodes:o,accountBalance:n,account:t,handleStake:C,handleUnStake:b}):(0,a.jsx)(a.Fragment,{children:"Loading..."})})]})]})});W.displayName="StakingPage";var q=(0,i.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-ujps5p-0"})({marginBottom:"2rem"}),Q=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ujps5p-1"})({display:"flex",alignItems:"stretch",gap:"1.5rem"}),G=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ujps5p-2"})({flex:"1 1 auto"}),J=(0,i.ZP)("h2").withConfig({displayName:"cmp___StyledH2",componentId:"sc-ujps5p-3"})({marginBottom:"0px"}),X=(0,i.ZP)("strong").withConfig({displayName:"cmp___StyledStrong",componentId:"sc-ujps5p-4"})({fontWeight:"700"}),V=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ujps5p-5"})({flex:"1 1 0%"}),ee=(0,i.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-ujps5p-6"})({marginTop:"3.5rem"}),et=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-ujps5p-7"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),en=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ujps5p-8"})({display:"flex",alignItems:"center",gap:"1rem"}),ea=W}},function(e){e.O(0,[733,956,78,861,845,390,852,626,572,725,440,774,888,179],function(){return e(e.s=44994)}),_N_E=e.O()}]);