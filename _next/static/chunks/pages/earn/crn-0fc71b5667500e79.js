(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{62640:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/crn",function(){return n(52559)}])},66006:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(85893),a=n(19521),s=n(67294),r=n(47630),o=n(34816),l=n(43815),d=n(42983),c=n(88459),m=n(7251),p=n(63608),u=n(87625);let h=(0,s.memo)(e=>{let{title:t,nodes:n}=e,d=(0,s.useMemo)(()=>new r.S,[]),c=(0,a.Fg)(),m=(0,s.useMemo)(()=>{let e=(null==n?void 0:n.length)||0,t=d.activeNodes(n||[]).length,i=e-t;return[{label:"Active nodes",value:t,percentage:t/e,gradient:"main0"},{label:"Non active",value:i,percentage:i/e,color:"transparent"}]},[n,d]),h="".concat(c.color.base0,"20");return(0,i.jsxs)(g,{loading:!n,children:[(0,i.jsx)(y,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(_,{data:m,width:100,height:100,children:[(0,i.jsx)("defs",{children:(0,i.jsx)(u._,{data:m})}),(0,i.jsx)(o.b,{data:[{v:1}],dataKey:"v",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:540,endAngle:360,isAnimationActive:!1,fill:h}),(0,i.jsx)(o.b,{data:m,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:540,endAngle:360,children:m.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?c.color[e.color]||e.color:void 0;return(0,i.jsx)(l.b,{fill:n},e.label)})})]}),(0,i.jsx)(v,{children:m.map(e=>(0,i.jsxs)(j,{children:[(0,i.jsx)(p.Z,{$color:"transparent"===e.color?h:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,i.jsxs)(N,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(w,{className:"fs-10",children:e.label})]})]},e.label))})]})]})});h.displayName="ActiveNodeChart";var x=h,g=(0,a.ZP)(c.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-1iwyxnm-0"})({width:"auto",minWidth:"9.25rem"}),y=(0,a.ZP)(m.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1iwyxnm-1"})({marginBottom:"1.5rem"}),f=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1iwyxnm-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),_=(0,a.ZP)(d.u).withConfig({displayName:"cmp___StyledPieChart",componentId:"sc-1iwyxnm-3"})({marginBottom:"-2.5rem"}),v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1iwyxnm-4"})({zIndex:"1",marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1iwyxnm-5"})({display:"flex",alignItems:"center",gap:"0.75rem"}),N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1iwyxnm-6"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),w=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1iwyxnm-7"})({opacity:"0.6"})},1103:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(85893),a=n(19521),s=n(7251);let r=(0,a.ZP)(s.zx).attrs(e=>({...e,forwardedAs:"a",kind:"neon",variant:"text-only",color:"main0"})).withConfig({displayName:"styles__StyledExternalLinkButton",componentId:"sc-16jaolm-0"})([""]);function o(e){let{children:t,href:n,size:a="big",...s}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r,{href:n,size:a,...s,target:"_blank",children:[t||n,(0,i.jsx)(l,{name:"square-up-right"})]})})}var l=(0,a.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mpznlq-0"})({marginLeft:"0.625rem"})},10375:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(85893),a=n(19521),s=n(67294),r=n(63608);let o=(0,a.ZP)(r.Z).attrs(e=>{let{theme:t,$status:n,...i}=e,a=n>=.8?"main1":n>=.5?"main0":n>=0?"error":"".concat(t.color.base0,"20");return{$color:a,...i}}).withConfig({displayName:"styles__StyledVersionIcon",componentId:"sc-iae05r-0"})([""]);var l=n(64486),d=n(7251);let c=(0,s.memo)(e=>{var t;let{node:n,lastVersion:a}=e,r=(0,s.useMemo)(()=>new l.B,[]),c=(0,s.useMemo)(()=>a?r.isNodeUptodate(n,a)&&!r.isNodeExperimental(n,a)?1:r.isNodeOutdated(n,a)||r.isNodeExperimental(n,a)?.5:0:-1,[n,a,r]),m=(0,s.useMemo)(()=>a?r.isNodeLatest(n,a)?"latest":r.isNodePrerelease(n,a)?"prerelease":r.isNodeExperimental(n,a)?"experimental":r.isNodeOutdated(n,a)?"outdated":"obsolete":"",[n,a,r]),h=(0,i.jsxs)(p,{children:[(0,i.jsx)(o,{$status:c}),(null===(t=n.metricsData)||void 0===t?void 0:t.version)||"-"]});return(0,i.jsx)(i.Fragment,{children:c<1?(0,i.jsx)(d.u,{my:"top-center",at:"bottom-center",offset:{x:0,y:10},content:m,children:(0,i.jsxs)(u,{children:[h," ",(0,i.jsx)(d.JO,{name:"info-circle",size:"sm"})]})}):h})});c.displayName="VersionCell";var m=c,p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-i7l1ld-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem",whiteSpace:"nowrap"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-i7l1ld-1"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"})},52559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var i=n(85893),a=n(19521),s=n(67294),r=n(9008),o=n.n(r),l=n(7251),d=n(36470),c=n(64486),m=n(9700),p=n(66006),u=n(68461),h=n(23187),x=n(88968),g=n(10375);let y=a.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-1dtglgs-0"})(e=>{let{theme:t,$active:n}=e,i=n?t.color.main1:"".concat(t.color.base0,"20");return[{height:"0.75rem",width:"0.5rem"},(0,a.iv)(["background-color:",";"],i)]}),f=(0,s.memo)(e=>{let{decentralization:t}=e,n=e=>(e+1)*.3;return(0,i.jsx)(_,{children:(0,i.jsx)(v,{children:Array.from({length:3}).map((e,a)=>(0,i.jsx)(y,{$active:t>=n(a)},a))})})});f.displayName="DecentralizedCell";var _=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-11kg7ah-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-11kg7ah-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),j=n(47630);let N=(0,s.memo)(e=>{let{node:t}=e,n=new j.S,a=n.computeCRNRewards(t),r=(0,s.useMemo)(()=>!t.parent,[t]);return(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(i.Fragment,{children:"-"}):(0,i.jsxs)(w,{children:[(0,i.jsxs)(C,{children:["~ ",a.toFixed(2)]}),(0,i.jsx)(l.TR,{text:"",color:"main0"})]})})});N.displayName="CRNRewardsCell";var w=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yja46l-0"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"}),C=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-yja46l-1"})({whiteSpace:"nowrap"});let S=(0,s.memo)(e=>{let{nodes:t,filteredNodes:n,lastVersion:a}=e,r=(0,s.useMemo)(()=>[{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,i.jsx)(x.Z,{score:e.score})},{label:"LINKED",sortable:!0,sortBy:e=>{var t;return null===(t=e.parentData)||void 0===t?void 0:t.name},render:e=>(0,i.jsx)(i.Fragment,{children:e.parentData?(0,i.jsx)(h.Z,{hash:e.parentData.hash,name:e.parentData.name,picture:e.parentData.picture}):"-"})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,i.jsx)(h.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"DECENTRALIZED",sortable:!0,sortBy:e=>e.decentralization,render:e=>(0,i.jsx)(f,{decentralization:e.decentralization})},{label:"EST. REWARDS",align:"right",render:e=>(0,i.jsx)(N,{node:e})},{label:"VERSION",sortable:!0,align:"right",width:"100%",sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>(0,i.jsx)(g.Z,{node:e,nodes:t,lastVersion:a})}],[a,t]);return(0,i.jsx)(u.Z,{columns:r,data:n})});S.displayName="ComputeResourceNodesTable";var b=n(1103),I=n(49869),Z=n(41664),D=n.n(Z),P=n(33445);let R=(0,s.memo)(e=>{let{nodes:t,filteredNodes:n,filteredUserNodes:a,tabs:r,selectedTab:u,filter:h,lastVersion:x,handleTabChange:g,handleFilterChange:y}=function(e){let[{account:t,accountBalance:n=0}]=(0,d.mr)(),i=(0,s.useMemo)(()=>new c.B(t),[t]),{nodes:a,filteredNodes:r,...o}=function(e){let{nodes:t}=e,[{account:n,accountBalance:i=0}]=(0,d.mr)(),a=(0,s.useMemo)(()=>new c.B(n),[n]),r=(0,s.useCallback)(()=>a.getCRNNodes(),[a]),[o,p]=(0,s.useState)(Date.now()),u=(0,l.$P)(o,1e4),{data:h}=(0,m.Q)({doRequest:r,triggerOnMount:!0,triggerDeps:[u],onSuccess:()=>null}),x=(0,s.useCallback)(()=>a.getLatestCRNVersion(),[a]),{data:g}=(0,m.Q)({doRequest:x,triggerOnMount:!0,onSuccess:()=>null,onError:()=>null}),[y,f]=(0,s.useState)(""),_=(0,l.$P)(y,200),v=(0,s.useCallback)(e=>{let t=e.target.value;f(t)},[]),j=(0,s.useCallback)((e,t)=>{if(t)return e?t.filter(t=>{var n;return t.name.toLowerCase().includes(e.toLowerCase())||((null===(n=t.parentData)||void 0===n?void 0:n.name)||"").toLowerCase().includes(e.toLowerCase())}):t},[]),N=(0,s.useMemo)(()=>{let e=t||h;if(e)return e.sort((e,t)=>t.score-e.score)},[t,h]),w=(0,s.useMemo)(()=>j(_,N),[j,_,N]);return{account:n,accountBalance:i,nodes:N,filteredNodes:w,filter:y,lastVersion:g,handleFilterChange:v,setLastUpdate:p}}(e),p=(0,s.useCallback)(e=>{if(e)return e.filter(e=>i.isUserNode(e))},[i]),u=(0,s.useMemo)(()=>p(a),[p,a]),h=(0,s.useMemo)(()=>p(r),[p,r]),[x,g]=(0,s.useState)("user"),y=(null==u?void 0:u.length)?x:"nodes",f=(0,s.useMemo)(()=>{let e=[{id:"user",name:"My compute nodes",disabled:!(null==u?void 0:u.length)},{id:"nodes",name:"All compute nodes"}];return e},[u]);return{account:t,accountBalance:n,nodes:a,filteredNodes:r,userNodes:u,filteredUserNodes:h,selectedTab:y,tabs:f,...o,handleTabChange:g}}(e),f=(0,i.jsx)(D(),{href:"/earn/crn/new",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(E,{color:"main0",kind:"neon",variant:"secondary",size:"regular",children:[(0,i.jsx)(l.JO,{name:"key"}),"Create compute node"]})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Aleph.im | Account"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(k,{className:"tp-h5",children:"Compute nodes"})}),(0,i.jsx)("section",{children:(0,i.jsx)(I.Z,{buttons:f,children:(0,i.jsxs)(A,{children:[(0,i.jsx)(M,{children:(0,i.jsx)(p.Z,{nodes:t,title:"COMPUTE RESOURCE NODES"})}),(0,i.jsxs)(B,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(O,{className:"tp-h7",children:"What is a compute node?"}),(0,i.jsx)("p",{className:"fs-12",children:"Anyone can set up a Compute Resource Node (CRN) to contribute to our decentralized network. These nodes play a crucial role in our ecosystem, enabling various services. While no commitment is needed to establish a CRN, to unlock a minimum wage for your CRN, it needs the endorsement of a Core Channel Node (CCN). A CCN operator can vouch for up to three CRNs, ensuring fair and balanced participation."}),(0,i.jsx)(b.Z,{href:"https://docs.aleph.im/nodes/compute/",size:"regular",children:"Node Setup Guide"})]}),(0,i.jsx)(z,{children:f})]})]})})}),(0,i.jsxs)(T,{children:[(0,i.jsxs)(F,{children:[(0,i.jsx)(l.mQ,{tabs:r,align:"left",selected:u,onTabChange:g}),(0,i.jsx)(l.oi,{value:h,name:"filter-ccn",placeholder:"Search me",onChange:y,icon:(0,i.jsx)(l.JO,{name:"search"})})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(P.Z,{show:!t}),t&&n&&a&&(0,i.jsx)(i.Fragment,{children:"user"===u?(0,i.jsx)(S,{nodes:t,filteredNodes:a,lastVersion:x}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(S,{nodes:t,filteredNodes:n,lastVersion:x})})})]})]})]})});R.displayName="ComputeResourceNodesPage";var E=(0,a.ZP)(l.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1m9xt13-0"})({gap:"0.625rem"}),k=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-1m9xt13-1"})({marginBottom:"2rem"}),A=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1m9xt13-2"})({display:"flex",alignItems:"flex-start",gap:"1.5rem"}),M=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1m9xt13-3"})({display:"flex",alignItems:"stretch",gap:"1.5rem"}),B=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1m9xt13-4"})({display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",alignSelf:"stretch"}),O=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH2",componentId:"sc-1m9xt13-5"})({marginBottom:"0px"}),z=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1m9xt13-6"})({marginTop:"1.5rem"}),T=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1m9xt13-7"})({marginTop:"3.5rem"}),F=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1m9xt13-8"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),L=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1m9xt13-9"})({position:"relative"}),$=R}},function(e){e.O(0,[261,113,774,888,179],function(){return e(e.s=62640)}),_N_E=e.O()}]);