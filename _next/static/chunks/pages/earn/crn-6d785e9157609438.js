(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{62640:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/crn",function(){return n(27796)}])},87931:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(85893),r=n(67294),a=n(41664),o=n.n(a),l=n(31515);let s=e=>{let{href:t,variant:n="secondary",color:r="main0",kind:a="default",size:s="md",disabled:d,children:c,...m}=e,p=(0,i.jsx)(l.zx,{as:"a",variant:n,color:r,kind:a,size:s,disabled:d,...m,children:c});return d?p:(0,i.jsx)(o(),{href:t,passHref:!0,legacyBehavior:!0,children:p})};s.displayName="ButtonLink";var d=(0,r.memo)(s)},13153:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),r=n(67294),a=n(31515),o=n(19521);let l=o.ZP.div.attrs((0,a.PT)("fx-dark-main0")).withConfig({displayName:"styles__StyledContainer",componentId:"sc-1hw364q-0"})([""," background:#00000019 !important;"],{position:"relative",height:"100%",maxWidth:"100%",borderRadius:"1.5rem",padding:"1.5rem"}),s=o.ZP.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-1hw364q-1"})([""," ",""],{maxWidth:"100%"},e=>{let{$disabled:t}=e;return t&&(0,o.iv)(["opacity:0.4;filter:grayscale(100%);"])}),d=e=>{let{children:t,disabled:n,loading:r,...a}=e;return(0,i.jsx)(l,{...a,children:(0,i.jsx)(s,{$disabled:n,children:t})})};d.displayName="Card1";var c=(0,r.memo)(d)},58833:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(85893),r=n(19521),a=n(67294),o=n(31515);let l=(0,r.ZP)(o.zx).attrs(e=>({...e,forwardedAs:"a",kind:"neon",variant:"textOnly",color:"main0"})).withConfig({displayName:"styles__StyledExternalLinkButton",componentId:"sc-16jaolm-0"})([""]),s=e=>{let{children:t,href:n,size:r="lg",...a}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l,{href:n,size:r,...a,target:"_blank",children:[t||n,(0,i.jsx)(c,{name:"square-up-right"})]})})};s.displayName="ExternalLinkButton";var d=(0,a.memo)(s),c=(0,r.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mpznlq-0"})({marginLeft:"0.625rem"})},28417:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(85893),r=n(19521),a=n(67294),o=n(34816),l=n(43815),s=n(42983),d=n(13153),c=n(31515),m=n(87625);let p=e=>{let{title:t,nodes:n,...s}=e,p=(0,r.Fg)(),u=(0,a.useMemo)(()=>{let e=n||[],t=e.length,i=e.reduce((e,t)=>e+Number(t.score>=.8),0),r=e.reduce((e,t)=>e+Number(t.score>=.5&&t.score<.8),0),a=e.reduce((e,t)=>e+Number(t.score<.5),0),o=t-i-r-a;return[{label:"active nodes",value:"".concat(i," nodes"),percentage:i/t,gradient:"main1"},{label:"50% < 80%",value:"".concat(r," nodes"),percentage:r/t,gradient:"main2"},{label:"< 50%",value:"".concat(a," nodes"),percentage:a/t,color:"error"},{label:"other",value:"".concat(o," nodes"),percentage:o/t,color:"transparent"}]},[n]),j=p.color.disabled2,C=[...u].reverse();return(0,i.jsxs)(d.Z,{loading:!n,...s,children:[(0,i.jsx)(h,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(g,{width:100,height:100,margin:{},children:[(0,i.jsx)("defs",{children:(0,i.jsx)(m._,{data:u})}),(0,i.jsx)(o.b,{data:[{v:1}],dataKey:"v",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,isAnimationActive:!1,fill:j}),(0,i.jsx)(o.b,{data:C,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,children:C.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?p.color[e.color]||e.color:void 0;return(0,i.jsx)(l.b,{fill:n},e.label)})}),(0,i.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",className:"tp-body3 fs-24",fill:p.color.text,children:(null==n?void 0:n.length)||0})]}),(0,i.jsx)(x,{children:Array.from({length:2},(e,t)=>(0,i.jsx)(y,{children:u.slice(2*t,2*t+2).map(e=>(0,i.jsxs)(v,{children:[(0,i.jsx)(c.cu,{$color:"transparent"===e.color?j:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,i.jsxs)(_,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(w,{className:"fs-10",children:e.label})]})]},e.label))},t))})]})]})};p.displayName="NetworkHealthChart";var u=(0,a.memo)(p),h=(0,r.ZP)(c.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-ghx7oa-0"})({margin:"0px",minHeight:"2rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ghx7oa-1"})({display:"flex",flexDirection:"column",alignItems:"center"}),g=(0,r.ZP)(s.u).withConfig({displayName:"cmp___StyledPieChart",componentId:"sc-ghx7oa-2"})({marginTop:"0.75rem",marginBottom:"0.75rem",minHeight:"6.25rem"}),x=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ghx7oa-3"})({marginTop:"0.25rem",display:"flex",width:"100%",alignItems:"stretch",justifyContent:"center",gap:"1.5rem"}),y=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ghx7oa-4"})({display:"flex",flexDirection:"column",gap:"1rem"}),v=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-ghx7oa-5"})({display:"flex",alignItems:"center",gap:"0.75rem"}),_=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ghx7oa-6"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),w=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-ghx7oa-7"})({opacity:"0.6"})},33378:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893),r=n(19521),a=n(67294);let o=r.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-1w2vi58-0"})(e=>{let{theme:t,$active:n}=e,i=n?t.color.main1:t.color.disabled2;return[{height:"0.75rem",width:"0.5rem"},(0,r.iv)(["background-color:",";"],i)]}),l=e=>{let{decentralization:t}=e,n=e=>(e+1)*.3;return(0,i.jsx)(d,{children:(0,i.jsx)(c,{children:Array.from({length:3},(e,r)=>(0,i.jsx)(o,{$active:t>=n(r)},r))})})};l.displayName="NodeDecentralization";var s=(0,a.memo)(l),d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-sktw9k-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),c=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-sktw9k-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"})},68461:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(85893),r=n(19521),a=n(67294),o=n(31515);let l=(0,r.ZP)(o.iA).attrs(e=>({borderType:"solid",oddRowNoise:!0,stickyHeader:!1,...e})).withConfig({displayName:"styles__StyledTable",componentId:"sc-gp6li6-0"})(["thead th{font-size:0.8125rem;","}td,th{padding:0.75rem 1rem;width:0;}tr,td{border:none;}"],{whiteSpace:"nowrap"}),s=e=>{let{children:t,...n}=e;return(0,i.jsx)(c,{children:(0,i.jsx)(l,{...n,children:t})})};s.displayName="NodesTable";var d=(0,a.memo)(s),c=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1mxy15q-0"})({maxWidth:"100%",overflowX:"auto"})},6309:function(e,t,n){"use strict";n.d(t,{t:function(){return d},Z:function(){return c}});var i=n(85893),r=n(67294),a=n(19521);let o=a.ZP.span.withConfig({displayName:"styles__StyledPrice",componentId:"sc-ouxjcu-0"})(["",""],{display:"inline-flex",alignItems:"center",gap:"0.25rem",whiteSpace:"nowrap"});var l=n(31515),s=n(34853);let d=e=>{let{value:t,...n}=e;return(0,i.jsxs)(o,{...n,children:[(0,s.RK)(t),(0,i.jsx)(l.TR,{color:"currentColor"})]})};d.displayName="Price";var c=(0,r.memo)(d)},32350:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),r=n(19521),a=n(67294),o=n(31515);r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-7dtatc-0"})(["",""],e=>{let{$isOpen:t,$duration:n=500}=e;return(0,r.iv)(["display:grid;grid-template-rows:0fr;transition:grid-template-rows ","ms ease-in-out;",""],n,t&&(0,r.iv)(["grid-template-rows:1fr;"]))});let l=(0,r.ZP)(o.Gd).withConfig({displayName:"styles__StyledToggleContainer",componentId:"sc-7dtatc-1"})([""," transition-property:all !important;",""],{position:"relative",top:"-1.25rem",margin:"0px",padding:"0px"},e=>{let{open:t}=e;return t&&(0,r.iv)(["",""],{top:"0px",margin:"-4rem",padding:"4rem"})}),s=r.ZP.div.withConfig({displayName:"styles__StyledButtonsContainer",componentId:"sc-7dtatc-2"})(["",""],e=>{let{$open:t}=e;return(0,r.iv)([""," opacity:",";transition:opacity ease-in-out 400ms ","ms,visibility linear 0ms ","ms;"],{position:"absolute !important",top:"0px",display:"flex",flexDirection:"column",gap:"1.25rem"},t?1:0,t?600:0,t?600:0)}),d=e=>{let{buttons:t,children:n,...r}=e,[d,c]=(0,a.useState)(!0),f=(0,a.useCallback)(()=>c(e=>!e),[]),g=(0,a.useRef)(null),{shouldMount:x,stage:y}=(0,o.Yz)(!d,1e3),{shouldMount:v,stage:_}=(0,o.Yz)(d,1e3),w="enter"===y,{bounds:j}=(0,o.Bq)({ref:g,deps:[w]}),C=(null==j?void 0:j.height)||0;return(0,i.jsx)(m,{style:{minHeight:C},...r,children:(0,i.jsxs)(i.Fragment,{children:[v&&(0,i.jsxs)(l,{open:"enter"===_,duration:1e3,children:[n,(0,i.jsxs)(p,{color:"main0",kind:"neon",variant:"textOnly",size:"md",onClick:f,$_css:[{marginLeft:"auto !important",marginTop:"1.5rem !important",display:"flex !important",gap:"0.625rem"}],children:[(0,i.jsx)(u,{name:"sort-up"}),"collapse"]})]}),x&&(0,i.jsxs)(s,{ref:g,$open:w,children:[t,(0,i.jsxs)(h,{color:"main0",kind:"neon",variant:"secondary",size:"md",onClick:f,children:[(0,i.jsx)(o.JO,{name:"gauge"}),"open dashboard"]})]})]})})};d.displayName="ToggleDashboard";var c=(0,a.memo)(d),m=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-juc50-0"})({position:"relative",marginBottom:"3.5rem",marginTop:"2rem"}),p=(0,r.ZP)(o.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-juc50-1"})(["",""],e=>e.$_css),u=(0,r.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-juc50-2"})({height:"0.875rem",width:"0.875rem",paddingTop:"0.5rem"}),h=(0,r.ZP)(o.zx).withConfig({displayName:"cmp___StyledButton2",componentId:"sc-juc50-3"})({gap:"0.625rem"})},87625:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var i=n(85893),r=n(19521);function a(e){let{data:t}=e,n=(0,r.Fg)();return(0,i.jsx)(i.Fragment,{children:t.filter(e=>!!e.gradient).map((e,t)=>{if(!e.gradient)return null;let{colors:r,deg:a,stops:o}="string"==typeof e.gradient?n.gradient[e.gradient]:e.gradient,l="string"==typeof e.gradient?"gr-".concat(e.gradient):"gr-".concat(t);return(0,i.jsx)("linearGradient",{id:l,gradientTransform:"rotate(".concat(a+-90," 0.5 0.5)"),children:r.map((e,t)=>(0,i.jsx)("stop",{offset:"".concat(o[t],"%"),stopColor:e},e))},l)})})}},70235:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var i=n(67294),r=n(94461),a=n(77767);function o(e){var t;let{key:n,debounced:o=0}=e,[l,s]=(0,r.mr)(),d=l.filter,c=null===(t=d[n])||void 0===t?void 0:t.value,m=(0,i.useMemo)(()=>{var e;let t;return e=e=>e?s(new a.q6({key:n,value:e})):s(new a.xp({key:n})),n=>{clearTimeout(t),t=setTimeout(()=>e(n),o)}},[o,n,s]);return[c,m]}},67200:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var i=n(67294);function r(e){let{nodes:t}=e,n=(0,i.useMemo)(()=>{let e=t||Array.from({length:4},(e,t)=>({metricsData:{as_name:"Provider ".concat(t)}}));return e.reduce((e,t)=>{var n;let i=(null===(n=t.metricsData)||void 0===n?void 0:n.as_name)||"others";return e[i]=(e[i]||0)+1,e},{others:0})},[t]),r=(0,i.useMemo)(()=>Object.values(n).reduce((e,t)=>e+t,0),[n]),a=(0,i.useMemo)(()=>{let e=Object.entries(n).filter(e=>{let[t]=e;return"others"!==t}).sort((e,t)=>{let[,n]=e,[,i]=t;return i-n}),t=e.slice(0,3),i=e.slice(3),a=["others",n.others+i.reduce((e,t)=>{let[,n]=t;return e+n},0)];return[...t,a].map((e,t)=>{let[n,i]=e;return{tier:t+1,name:n,count:i,percentage:i/r,color:0===t?"error":1===t?"main2":2===t?"main0":"main1"}})},[n,r]);return{total:r,buckets:n,top:a}}},76625:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var i=n(67294);function r(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=setTimeout(()=>t(!0));return()=>clearTimeout(e)},[]),{render:e}}},73384:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var i=n(94461),r=n(48107),a=n(91421),o=n(31515),l=n(67294);function s(){let[e,t]=(0,i.mr)(),{account:n}=e.connection,{entities:s}=e.crns,{entities:d}=e.ccns,c=(0,l.useMemo)(()=>new r.B(n),[n]),m=(0,o.lm)(),p=(0,l.useCallback)(e=>"string"==typeof e?null==s?void 0:s.find(t=>t.hash===e):e,[s]),u=(0,l.useCallback)(e=>"string"==typeof e?null==d?void 0:d.find(t=>t.hash===e):e,[d]),h=(0,l.useCallback)(e=>{let t=p(e);return!!t&&c.isLinked(t)},[p,c]),f=(0,l.useCallback)((e,t)=>{let n=p(e),i=u(t);return!!n&&!!i&&c.isLinkableBy(n,i)[0]},[u,p,c]),g=(0,l.useCallback)(e=>{let t=p(e);if(!t)return!1;let n=u(t.parentData||t.parent||"");return!!n&&c.isUnlinkableBy(t,n)},[u,p,c]),x=(0,l.useCallback)(async(e,n)=>{try{if(!m)throw Error("Notification not ready");let i=p(e);if(!i)throw Error("Invalid CRN node");let r=u(n);if(!r)throw Error("Invalid CCN node");if(!f(i,r))throw Error("Not linkable node");await c.linkComputeResourceNode(i.hash),m.add({variant:"success",title:"Success",text:'Linked resource node "'.concat(i.hash,'" successfully.')});let[o,l]=function(e,t){let n={...t,virtual:Date.now()},i={...e,virtual:Date.now()};n.parent=i.hash,n.parentData=i;let r=i.crnsData.reduce((e,t)=>(e[t.hash]=t,e),{});return r[n.hash]=n,i.crnsData=Object.values(r),i.resource_nodes=Object.keys(r),[i,n]}(r,i);return t(new a.Wy({name:"ccns",entities:[o]})),t(new a.Wy({name:"crns",entities:[l]})),!0}catch(e){null==m||m.add({variant:"error",title:"Error",text:e.message})}return!1},[t,u,p,f,c,m]),y=(0,l.useCallback)(async e=>{try{if(!m)throw Error("Notification not ready");let n=p(e);if(!n)throw Error("Invalid CRN node");let i=u(n.parentData||n.parent||"");if(!i)throw Error("Invalid CCN node");if(!g(n))throw Error("Not unlinkable node");await c.unlinkComputeResourceNode(n.hash),m.add({variant:"success",title:"Success",text:'Unlinked resource node "'.concat(n.hash,'" successfully.')});let[r,o]=function(e,t){let n={...t,virtual:Date.now()},i={...e,virtual:Date.now()};n.parent="",n.parentData=void 0;let r=i.crnsData.filter(e=>e.hash!==n.hash);return i.crnsData=r,i.resource_nodes=r.map(e=>e.hash),[i,n]}(i,n);return t(new a.Wy({name:"ccns",entities:[r]})),t(new a.Wy({name:"crns",entities:[o]})),!0}catch(e){null==m||m.add({variant:"error",title:"Error",text:e.message})}return!1},[t,u,p,g,c,m]);return{isLinked:h,isLinkableByUser:f,isUnlinkableByUser:g,handleLink:x,handleUnlink:y}}},96264:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var i=n(67294),r=n(48107),a=n(94461);function o(e){let{nodes:t}=e,[n]=(0,a.mr)(),{account:o}=n.connection,l=(0,i.useMemo)(()=>new r.B(o),[o]),[s,d]=(0,i.useState)({}),[c,m]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async function(){t&&(await Promise.allSettled(t.map(async e=>{let t=await l.getCRNspecs(e);d(n=>({...n,[e.hash]:{data:t,loading:!1,error:void 0}}))})),m(!1))})()},[l,t]),{specs:s,loading:c}}},51383:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var i=n(67294);function r(e){let{nodes:t,nodesIssues:n}=e,r=(0,i.useMemo)(()=>{if(t)return t.sort((e,t)=>{let i=n[e.hash]?1:0,r=n[t.hash]?1:0;return r-i})},[t,n]);return{sortedNodes:r}}},32998:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(67294);function r(e){let{list:t}=e,[n,r]=(0,i.useState)(),a=(0,i.useMemo)(()=>t&&n?n(t):t,[t,n]),o=(0,i.useCallback)(e=>r(()=>e),[]);return{list:a,handleSortItems:o}}},58193:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var i=n(94461),r=n(67294),a=n(69797);function o(){let{nodes:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t]=(0,i.mr)(),{entities:n}=t.ccns,{userNodes:o}=(0,a.M)({nodes:e||n}),l=(0,r.useMemo)(()=>null==o?void 0:o[0],[o]);return{userNode:l}}},27796:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eS}});var i=n(85893),r=n(19521),a=n(67294),o=n(9008),l=n.n(o),s=n(41664),d=n.n(s),c=n(31515),m=n(48107),p=n(94461),u=n(32998),h=n(70235),f=n(38753),g=n(69797),x=n(51383),y=n(58193),v=n(73384),_=n(11163),w=n(96264),j=n(68461),C=n(33378),N=n(47630),b=n(6309);let S=e=>{let{node:t}=e,n=(0,a.useMemo)(()=>{let e=new N.S;return e.CRNRewardsPerDay(t)*(365/12)},[t]),r=(0,a.useMemo)(()=>!t.parent,[t]);return(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(i.Fragment,{children:"-"}):(0,i.jsxs)(D,{children:["~ ",(0,i.jsx)(b.t,{value:n}),"/M"]})})};S.displayName="CRNRewardsCell";var I=(0,a.memo)(S),D=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yja46l-0"})({display:"inline-flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"});let k=e=>{let{node:t,userNode:n,onLink:r,onUnlink:o}=e,{isLinkableByUser:l,isUnlinkableByUser:s,handleLink:d,handleUnlink:m}=(0,v.i)(),p=r||d,u=o||m,h=(0,a.useMemo)(()=>t&&n&&l(t,n),[l,t,n]),f=(0,a.useMemo)(()=>t&&s(t),[s,t]),g=(0,a.useCallback)(()=>{n&&(f?u(t.hash):p(t,n))},[p,u,f,t,n]);return(0,i.jsx)(i.Fragment,{children:f?(0,i.jsx)(c.zx,{kind:"neon",size:"md",variant:"secondary",color:"main2",onClick:g,children:"Unlink"}):(0,i.jsx)(c.zx,{kind:"neon",size:"md",variant:"secondary",color:"main0",onClick:g,disabled:!h,children:"Link"})})};k.displayName="LinkCRNButton";var Z=(0,a.memo)(k),P=n(87931),R=n(25675),T=n.n(R),B=n(33358);let M=e=>{let{filteredNodes:t,userNode:n,account:r,lastVersion:o,nodesIssues:l,loadItemsDisabled:s,handleLoadItems:d,handleSortItems:m,handleLink:p,handleUnlink:u}=e,h=(0,a.useMemo)(()=>[{label:"",align:"center",width:0,cellProps:()=>({css:{padding:"0px !important"}}),hcellProps:()=>({css:{borderWidth:"0px !important",padding:"0px !important"}}),render:e=>(null==l?void 0:l[e.hash])?(0,i.jsx)(L,{children:"\xa0"}):null},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,i.jsx)(c.WG,{score:e.score})},{label:"LINKED",sortable:!0,sortBy:e=>{var t;return null===(t=e.parentData)||void 0===t?void 0:t.name},render:e=>(0,i.jsx)(i.Fragment,{children:e.parentData?(0,i.jsx)(c.tJ,{hash:e.parentData.hash,name:e.parentData.name,picture:e.parentData.picture,apiServer:B.pf,ImageCmp:T()}):"-"})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,i.jsx)(c.tJ,{hash:e.hash,name:e.name,picture:e.picture,apiServer:B.pf,ImageCmp:T()})},{label:"DECENTRALIZED",sortable:!0,sortBy:e=>e.decentralization,render:e=>(0,i.jsx)(C.Z,{decentralization:e.decentralization})},{label:"EST. REWARDS",align:"right",render:e=>(0,i.jsx)(I,{node:e})},{label:"VERSION",sortable:!0,align:"right",width:"100%",sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>{var t;return(0,i.jsx)(c.pJ,{version:(null===(t=e.metricsData)||void 0===t?void 0:t.version)||"",lastVersion:o})}},{label:"",align:"right",render:e=>(0,i.jsxs)(A,{children:[(0,i.jsx)(Z,{node:e,userNode:n,account:r,onLink:p,onUnlink:u}),(0,i.jsx)(P.Z,{kind:"neon",size:"md",variant:"secondary",color:"main0",href:"/earn/crn/".concat(e.hash),children:"Info"})]})}],[r,o,l,p,u,n]);return(0,i.jsx)(j.Z,{columns:h,data:t,infiniteScroll:!s,onLoadMore:d,onSort:m})};M.displayName="ComputeResourceNodesTable";var E=(0,a.memo)(M),L=(0,r.ZP)(c.Cc).withConfig({displayName:"cmp___StyledNotificationBadge",componentId:"sc-1hivp77-0"})({marginLeft:"auto !important",marginRight:"auto !important",display:"flex !important"}),A=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1hivp77-1"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),z=n(58833),W=n(32350),O=n(33445),H=n(28417),F=n(13153),U=n(67200);let q=e=>{let{title:t,nodes:n,...r}=e,{top:o}=(0,U.d)({nodes:n}),l=(0,a.useMemo)(()=>o.map(e=>{let{name:t,count:n,percentage:i,color:r}=e;return{label:"".concat(n," nodes (").concat((100*i).toFixed(0),"%)"),value:t,percentage:i,color:r}}),[o]);return(0,i.jsxs)(F.Z,{loading:!n,...r,children:[(0,i.jsx)(G,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsx)(J,{children:l.map(e=>(0,i.jsxs)(K,{children:[(0,i.jsx)(c.cu,{$color:e.color,$size:"1.25rem"}),(0,i.jsxs)(V,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(X,{className:"fs-10",children:e.label})]})]},e.value))})]})};q.displayName="HostingProviderChart";var $=(0,a.memo)(q),G=(0,r.ZP)(c.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1c9rl6q-0"})({margin:"0px",minHeight:"2rem"}),J=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1c9rl6q-1"})({marginTop:"0.25rem",display:"flex",flexDirection:"column",gap:"1rem"}),K=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1c9rl6q-2"})({display:"flex",alignItems:"center",gap:"0.75rem"}),V=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1c9rl6q-3"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),X=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1c9rl6q-4"})({opacity:"0.6"}),Y=n(76625),Q=n(34853);let ee=e=>{let{title:t,resources:n,...r}=e,o=(0,a.useMemo)(()=>[{label:"CPU",value:(null==n?void 0:n.cpu)||"-",color:"main1"},{label:"RAM",value:(0,Q.eB)(null==n?void 0:n.ram,"MiB"),color:"main1"},{label:"HDD",value:(0,Q.eB)(null==n?void 0:n.hdd,"MiB"),color:"main1"}],[n]);return(0,i.jsxs)(F.Z,{loading:!n,...r,children:[(0,i.jsx)(en,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsxs)(ei,{children:[o.map(e=>(0,i.jsxs)(er,{children:[(0,i.jsx)(c.cu,{$color:e.color,$size:"1.25rem"}),(0,i.jsxs)(ea,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(eo,{className:"fs-10",children:e.label})]})]},e.label)),(0,i.jsxs)(el,{className:"fs-10 tp-body1",children:[(0,i.jsx)("div",{children:"Total amount of resources on the network."}),(null==n?void 0:n.nodes)&&(0,i.jsxs)("div",{children:["(Using ",null==n?void 0:n.nodes," active nodes of ",null==n?void 0:n.total,")"]})]})]})]})};ee.displayName="TotalNetworkResourcesChart";var et=(0,a.memo)(ee),en=(0,r.ZP)(c.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-vioslj-0"})({margin:"0px",minHeight:"2rem"}),ei=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-vioslj-1"})({marginTop:"0.25rem",display:"flex",flexDirection:"column",gap:"1rem"}),er=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-vioslj-2"})({display:"flex",alignItems:"center",gap:"0.75rem"}),ea=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-vioslj-3"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),eo=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-vioslj-4"})({opacity:"0.6"}),el=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-vioslj-5"})({opacity:"0.6"});let es=e=>{let{account:t,nodes:n,paginatedSortedFilteredNodes:r,userNodes:o,filteredUserNodes:s,userNodesIssues:j,userNode:C,tabs:N,selectedTab:b,filter:S,lastVersion:I,isLinkableOnly:D,isLinkableOnlyDisabled:k,totalResources:Z,loadItemsDisabled:P,handleLoadItems:R,handleSortItems:T,handleLink:B,handleUnlink:M,handleTabChange:L,handleFilterChange:A,handleLinkableOnlyChange:F}=function(e){let{nodes:t,filteredNodes:n,...r}=function(e){let{nodes:t}=e,[n]=(0,p.mr)(),{account:i,balance:r=0}=n.connection,{data:o}=n.lastCRNVersion,{entities:l}=n.crns,s=n.filter,[d,c]=(0,h.L)({key:"crnq",debounced:200}),[m,f]=(0,a.useState)(),g=(0,a.useCallback)(e=>{let t=e.target.value;f(t),c(t)},[c]);(0,a.useEffect)(()=>{void 0===m&&d&&f(d)},[d,m]);let x=(0,a.useCallback)((e,t)=>{if(t)return e?t.filter(t=>{var n,i;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||((null===(i=t.parentData)||void 0===i?void 0:i.name)||"").toLowerCase().includes(e.toLowerCase())}):t},[]),y=(0,a.useMemo)(()=>{let e=t||l;if(e)return e.sort((e,t)=>t.score-e.score)},[t,l]),v=(0,a.useMemo)(()=>x(d,y),[x,d,y]),{list:_,handleSortItems:w}=(0,u.g)({list:v});return{account:i,accountBalance:r,nodes:y,filteredNodes:_,filter:m,lastVersion:o,filters:s,handleSortItems:w,handleFilterChange:g}}(e),{account:o}=r,l=(0,a.useMemo)(()=>new m.B(o),[o]),{userNode:s}=(0,y.h)(),[d,j]=(0,a.useState)(),C=(0,a.useCallback)(async e=>{let t=e.target.checked;j(t)},[]),{userNodes:N}=(0,g.M)({nodes:t}),{userNodes:b}=(0,g.M)({nodes:n}),{nodesIssues:S,warningFlag:I}=(0,f.i)({nodes:b}),{sortedNodes:D}=(0,x.L)({nodesIssues:S,nodes:b}),[k,Z]=(0,a.useState)(),P=k||((null==N?void 0:N.length)?"user":"nodes"),R=(0,a.useMemo)(()=>{let e=[{id:"nodes",name:"All compute nodes"},{id:"user",name:"My compute nodes",label:I?{label:(0,i.jsx)(c.Cc,{children:I}),position:"top"}:void 0}];return e},[I]),T=(0,a.useMemo)(()=>{if(n)return n.filter(e=>l.isLinkableBy(e,s)[0])},[n,l,s]),B=!(null==T?void 0:T.length)||"nodes"!==P,M=!B&&(void 0!==d?d:!!o),E=(0,a.useMemo)(()=>M&&o?T:n,[o,n,T,M]),{list:L,loadItemsDisabled:A,handleLoadItems:z}=(0,c.fw)({list:E}),W=(0,_.useRouter)(),{handleLink:O,handleUnlink:H}=(0,v.i)(),F=(0,a.useCallback)(async e=>{if(!(null==s?void 0:s.hash))return!1;let t=await O(e,s.hash);return t&&W.replace("/earn/ccn/".concat(s.hash)),t},[O,W,s]),U=(0,a.useCallback)(async e=>{let t=await H(e);return t&&(null==s?void 0:s.hash)&&W.replace("/earn/ccn/".concat(s.hash)),t},[H,W,s]),{specs:q}=(0,w.O)({nodes:t}),$=(0,a.useMemo)(()=>{let e=Object.values(q);return e.reduce((e,t)=>{var n,i,r;return e.cpu+=(null===(n=t.data)||void 0===n?void 0:n.cpu.count)||0,e.ram+=((null===(i=t.data)||void 0===i?void 0:i.mem.total_kB)||0)/1024,e.hdd+=((null===(r=t.data)||void 0===r?void 0:r.disk.total_kB)||0)/1024,e.nodes+=t.data?1:0,e.total+=1,e},{cpu:0,ram:0,hdd:0,nodes:0,total:0})},[q]);return{nodes:t,filteredNodes:E,userNodes:N,filteredUserNodes:D,userNodesIssues:S,userNode:s,selectedTab:P,tabs:R,isLinkableOnly:M,isLinkableOnlyDisabled:B,totalResources:$,paginatedSortedFilteredNodes:L,loadItemsDisabled:A,handleLoadItems:z,handleLink:F,handleUnlink:U,handleTabChange:Z,handleLinkableOnlyChange:C,...r}}(e),{render:U}=(0,Y.W)(),q=(0,i.jsx)(d(),{href:"/earn/crn/new",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(ec,{color:"main0",kind:"neon",variant:"secondary",size:"md",disabled:!t,children:[(0,i.jsx)(c.JO,{name:"key"}),"Create compute node"]})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Aleph Cloud | Account"}),(0,i.jsx)("meta",{name:"description",content:"Aleph Cloud Account Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(em,{className:"tp-h5",children:"Compute nodes"})}),(0,i.jsx)("section",{children:(0,i.jsx)(W.Z,{buttons:q,children:(0,i.jsxs)(ep,{children:[(0,i.jsxs)(eu,{children:[(0,i.jsx)(eh,{children:(0,i.jsx)(H.Z,{nodes:n,title:"CRN NETWORK HEALTH"})}),(0,i.jsxs)(ef,{children:[(0,i.jsx)(eg,{children:(0,i.jsx)($,{nodes:n,title:"TOP HOSTING PROVIDER"})}),(0,i.jsx)(ex,{children:(0,i.jsx)(et,{title:"TOTAL NETWORK RESOURCES",resources:Z})})]})]}),(0,i.jsxs)(ey,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(ev,{className:"tp-h7",children:"What is a compute node?"}),(0,i.jsx)("p",{className:"fs-16",children:"Anyone can set up a Compute Resource Node (CRN) to contribute to our decentralized network. These nodes play a crucial role in our ecosystem, enabling various services. While no commitment is needed to establish a CRN, to unlock a minimum wage for your CRN, it needs the endorsement of a Core Channel Node (CCN). A CCN operator can vouch for up to five CRNs, ensuring fair and balanced participation."}),(0,i.jsx)(z.Z,{href:"https://docs.aleph.im/nodes/compute/",size:"md",children:"Node Setup Guide"})]}),(0,i.jsx)(e_,{children:q})]})]})})}),(0,i.jsxs)(ew,{children:[(0,i.jsxs)(ej,{children:[(0,i.jsxs)(eC,{children:[(0,i.jsx)(c.mQ,{tabs:N,align:"left",selected:b,onTabChange:L}),(0,i.jsx)(c.XZ,{label:"Ready to link",checked:D,onChange:F,size:"xs",disabled:k})]}),(0,i.jsx)(c.oi,{value:S,name:"filter-ccn",placeholder:"Search me",onChange:A,icon:(0,i.jsx)(c.JO,{name:"search"})})]}),(0,i.jsxs)(eN,{children:[(0,i.jsx)(O.Z,{show:!U||!n}),U&&(0,i.jsx)(i.Fragment,{children:"user"===b?(0,i.jsx)(i.Fragment,{children:n&&s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{nodes:n,filteredNodes:s,nodesIssues:j,userNode:C,account:t,lastVersion:I,handleLink:B,handleUnlink:M}),(0,i.jsx)(eb,{children:t?(null==o?void 0:o.length)?"":"You have no compute node running.":"Connect your wallet to see your compute node running."})]})}):(0,i.jsx)(i.Fragment,{children:n&&(0,i.jsx)(E,{nodes:n,filteredNodes:r,loadItemsDisabled:P,handleLoadItems:R,handleSortItems:T,userNode:C,account:t,lastVersion:I,handleLink:B,handleUnlink:M})})})]})]})]})};es.displayName="ComputeResourceNodesPage";var ed=(0,a.memo)(es),ec=(0,r.ZP)(c.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1m9xt13-0"})({gap:"0.625rem"}),em=(0,r.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-1m9xt13-1"})({marginBottom:"2rem"}),ep=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1m9xt13-2"})({display:"flex",flexWrap:"wrap",alignItems:"flex-start",gap:"1.5rem","@media (min-width: 87.5rem)":{flexWrap:"nowrap"}}),eu=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1m9xt13-3"})({order:"2",display:"flex",maxWidth:"100%",flex:"1 1 auto",flexWrap:"wrap",alignItems:"stretch",gap:"1.5rem","@media (min-width: 87.5rem)":{order:"0",flex:"none",flexWrap:"nowrap"}}),eh=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1m9xt13-4"})({maxWidth:"100%",flex:"1 1 auto","@media (min-width: 87.5rem)":{flex:"none"}}),ef=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1m9xt13-5"})({display:"flex",flex:"1 1 auto",flexWrap:"wrap",alignItems:"stretch",gap:"1.5rem","@media (min-width: 36rem)":{flexWrap:"nowrap"},"@media (min-width: 87.5rem)":{flex:"none"}}),eg=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1m9xt13-6"})({flex:"1 1 0%"}),ex=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1m9xt13-7"})({flex:"1 1 0%"}),ey=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1m9xt13-8"})({display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",alignSelf:"stretch"}),ev=(0,r.ZP)("h1").withConfig({displayName:"cmp___StyledH2",componentId:"sc-1m9xt13-9"})({marginBottom:"0px"}),e_=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1m9xt13-10"})({marginBottom:"1rem",marginTop:"1.5rem","@media (min-width: 87.5rem)":{marginBottom:"0px"}}),ew=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1m9xt13-11"})({marginTop:"3.5rem"}),ej=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1m9xt13-12"})({marginBottom:"2rem",display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"space-between",gap:"2.5rem","@media (min-width: 48rem)":{flexDirection:"row",alignItems:"flex-end"}}),eC=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-1m9xt13-13"})({display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"flex-start",gap:"2.5rem","@media (min-width: 36rem)":{flexDirection:"row",alignItems:"center",gap:"1rem"}}),eN=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-1m9xt13-14"})({position:"relative"}),eb=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-1m9xt13-15"})({marginLeft:"1rem",marginRight:"1rem",marginTop:"2.5rem",marginBottom:"2.5rem",textAlign:"center",opacity:"0.6"}),eS=ed}},function(e){e.O(0,[959,983,774,888,179],function(){return e(e.s=62640)}),_N_E=e.O()}]);