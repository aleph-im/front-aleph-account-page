(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{44994:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/staking",function(){return n(32243)}])},36493:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s=n(85893),a=n(19521),i=n(67294),o=n(63608);let r=(0,a.ZP)(o.Z).attrs(e=>{let{$performance:t,...n}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledAPYIcon",componentId:"sc-1z11sih-0"})([""]);var l=n(47630),d=n(7251);let c=(0,i.memo)(e=>{let{node:t,nodes:n}=e,a=new l.S,o=a.computeEstimatedStakersAPY(t,n),c=a.currentAPY(n),m=(0,i.useMemo)(()=>t.crnsData.length<3,[t]),y=(0,i.useMemo)(()=>t.crnsData.filter(e=>e.score<.2).length,[t]),f=(0,s.jsxs)(p,{children:[(0,s.jsx)(r,{$performance:o/c}),Number(100*o).toFixed(2),"%"]});return(0,s.jsx)(s.Fragment,{children:m||y?(0,s.jsx)(d.u,{my:"top-center",at:"bottom-center",offset:{x:0,y:10},header:"Staking performance",content:(0,s.jsxs)(h,{className:"fs-sm",children:[m&&(0,s.jsxs)("div",{children:[(0,s.jsxs)(u,{children:[3-t.crnsData.length," missing CRNs"]}),(0,s.jsx)("div",{className:"fs-xs",children:"Link 3 functioning CRN to that node to maximise its rewards"})]}),!y&&(0,s.jsxs)("div",{children:[(0,s.jsxs)(g,{children:[y," bad scored CRNs"]}),(0,s.jsx)("div",{className:"fs-xs",children:"Improve the score of your linked CRNs to maximise its rewards"})]})]}),children:f}):f})});c.displayName="APYCell";var m=c,p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y5e56o-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-y5e56o-1"})({marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-y5e56o-2"})({fontWeight:"700",lineHeight:"1rem"}),g=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-y5e56o-3"})({fontWeight:"700",lineHeight:"1rem"})},65359:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s=n(85893),a=n(19521),i=n(67294);let o=a.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-8oaxhu-0"})(e=>{let{theme:t,$score:n}=e,s=void 0===n?"".concat(t.color.base0,"20"):n>=.8?t.color.main1:n>=.5?t.color.main0:t.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,a.iv)(["background-color:",";"],s)]});var r=n(7251),l=n(29512),d=n(88968);let c=(0,i.memo)(e=>{let{nodes:t,max:n=3}=e;return(0,s.jsxs)(p,{children:[(0,s.jsx)(r.u,{my:"top-center",at:"bottom-center",header:"Linked nodes",offset:{x:0,y:10},content:(0,s.jsx)(h,{children:t.map(e=>(0,s.jsxs)(u,{children:[(0,s.jsx)(d.Z,{...e,showPercentage:!1}),(0,s.jsx)(l.Z,{...e})]},e.hash))}),children:(0,s.jsx)(g,{children:Array.from({length:n}).map((e,n)=>{var a;return(0,s.jsx)(o,{$score:null===(a=t[n])||void 0===a?void 0:a.score},n)})})}),(0,s.jsxs)(y,{className:"fs-xs",children:[t.length," ",(0,s.jsxs)(f,{children:["of ",n]})]})]})});c.displayName="LinkedCell";var m=c,p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-s5fbn9-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-s5fbn9-1"})({marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-s5fbn9-2"})({display:"flex",gap:"1rem"}),g=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-s5fbn9-3"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-s5fbn9-4"})({whiteSpace:"nowrap",lineHeight:"1rem"}),f=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-s5fbn9-5"})({opacity:"0.2"})},89786:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(85893),a=n(19521),i=n(67294);let o=a.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1yxgl5m-0"})(e=>{let{theme:t,$percent:n}=e,s=n>=1?t.color.main1:t.color.main0,i="".concat(t.color.base0,"20");return[{position:"relative",height:"0.125rem",width:"100%"},(0,a.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],i,{position:"absolute",left:"0px",top:"0px",height:"100%"},s,100*n)]});var r=n(7251);let l=(0,i.memo)(e=>{let{staked:t,status:n,locked:a}=e,i=Number(t/1e3).toFixed(0);return(0,s.jsxs)(c,{className:"fs-xs",children:[(0,s.jsxs)(m,{className:"fs-xs",children:[(0,s.jsxs)("div",{children:[i,"k ",(0,s.jsx)(p,{children:"of 500k"})]}),(0,s.jsxs)(h,{className:"fs-xxs",children:[n.toUpperCase(),a&&(0,s.jsx)(r.u,{my:"top-center",at:"bottom-center",content:"No staker can join this node.",header:"Staking locked",children:(0,s.jsx)(r.JO,{name:"lock",size:"xs"})})]})]}),(0,s.jsx)(u,{children:(0,s.jsx)(o,{$percent:Math.min(t,5e5)/5e5})})]})});l.displayName="StakedCell";var d=l,c=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-mc9kar-0"})({lineHeight:"1rem"}),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-mc9kar-1"})({marginBottom:"0.625rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375rem",whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-mc9kar-2"})({opacity:"0.2"}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-mc9kar-3"})({display:"flex",alignItems:"center",gap:"0.25rem"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-mc9kar-4"})({display:"flex",alignItems:"center",gap:"0.25rem"})},96272:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var s=n(36470),a=n(64486),i=n(9700),o=n(7251),r=n(67294);function l(e){let{nodes:t}=e,[{account:n,accountBalance:l=0}]=(0,s.mr)(),d=(0,r.useMemo)(()=>new a.B(n),[n]),c=(0,r.useCallback)(async()=>await d.getCCNNodes(),[d]),[m,p]=(0,r.useState)(Date.now()),h=(0,o.$P)(m,1e4),{data:u}=(0,i.Q)({doRequest:c,triggerOnMount:!0,triggerDeps:[h],onSuccess:()=>null}),g=(0,r.useCallback)(()=>d.getLatestCCNVersion(),[d]),{data:y}=(0,i.Q)({doRequest:g,triggerOnMount:!0,onSuccess:()=>null,onError:()=>null}),[f,x]=(0,r.useState)(""),_=(0,o.$P)(f,200),w=(0,r.useCallback)(e=>{let t=e.target.value;x(t)},[]),v=(0,r.useCallback)((e,t)=>t?e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):e,[]),j=(0,r.useMemo)(()=>(t||u||[]).sort((e,t)=>t.score-e.score),[t,u]),k=(0,r.useMemo)(()=>v(j,_),[v,_,j]);return{account:n,accountBalance:l,nodes:j,filteredNodes:k,filter:f,lastVersion:y,handleFilterChange:w,setLastUpdate:p}}},32243:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var s=n(85893),a=n(19521),i=n(67294),o=n(9008),r=n.n(o),l=n(7251),d=n(36470),c=n(64486),m=n(47630),p=n(96272);let h=(0,a.ZP)(l.iA).withConfig({displayName:"styles__StyledTable",componentId:"sc-b7wjwz-0"})(["&&{thead{","}td,th{"," border-bottom:1px solid #ffffff22;&:first-child{","}}}"],{display:"none"},{width:"0px",maxWidth:"0rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},{textAlign:"left",fontSize:"0.75rem",lineHeight:"1rem",textTransform:"uppercase"});var u=n(88459);let g=(0,i.memo)(e=>{let{nodes:t}=e,[n,a]=(0,i.useState)(1e3),o=(0,i.useCallback)(e=>{let t=e.target.value?Number(e.target.value):void 0;a(t)},[]),r=(0,i.useMemo)(()=>{let e=new m.S,s=e.totalPerAlephPerDay(t)*(n||0),a=100*e.currentAPY(t);return[{name:"Rewards per day",value:"".concat(s.toFixed(2)," ALEPH")},{name:"Current APY",value:"".concat(a.toFixed(2),"%")}]},[t,n]);return(0,s.jsx)(u.Z,{children:(0,s.jsxs)(y,{children:[(0,s.jsx)(f,{forwardedAs:"h3",type:"info",color:"main0",children:"REWARD CALCULATOR"}),(0,s.jsx)(x,{children:(0,s.jsx)(l.oi,{value:n,onChange:o,type:"number",name:"staked-amount",placeholder:"0",label:"Amount staked",buttonStyle:"wrapped",button:(0,s.jsx)("button",{children:(0,s.jsx)(_,{name:"arrow-turn-down-left"})})})}),(0,s.jsx)(h,{borderType:"solid",rowKey:e=>e.name,columns:[{label:"",render:e=>e.name},{label:"",render:e=>e.value}],data:r})]})})});g.displayName="RewardCalculator";var y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-15iqn8s-0"})({width:"320px",overflow:"auto"}),f=(0,a.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-15iqn8s-1"})({marginBottom:"1.5rem"}),x=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-15iqn8s-2"})({marginBottom:"1rem"}),_=(0,a.ZP)(l.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-15iqn8s-3"})({width:"2.5rem"}),w=n(68461),v=n(29512),j=n(65359),k=n(88968),C=n(36493),N=n(89786);let S=(0,i.memo)(e=>{let{node:t,stakeNodes:n,account:a,accountBalance:o=0,onStake:r,onUnStake:d}=e,m=(0,i.useMemo)(()=>new c.B(a),[a]),p=(0,i.useMemo)(()=>!!a&&!!t.stakers[a.address],[a,t]),[h,u]=(0,i.useMemo)(()=>{let[e,s]=m.isStakeable(t,o,n);return[!e,s]},[m,t,o,n]),g=(0,i.useCallback)(()=>{p?d(t.hash):r(t.hash)},[p,d,t.hash,r]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.u,{my:"center-right",at:"center-left",content:u,children:p?(0,s.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main2",onClick:g,children:"UnStake"}):(0,s.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",onClick:g,disabled:h,children:"Stake"})})})});S.displayName="StakeButton";let b=(0,i.memo)(e=>{let{amount:t}=e;return(0,s.jsxs)(P,{children:[t.toFixed(2),(0,s.jsx)(l.TR,{text:""})]})});b.displayName="AmountCell";var P=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-103j8hg-0"})({display:"flex",alignItems:"center",gap:"0.5rem"});let I=(0,i.memo)(e=>{let{nodes:t,stakeNodes:n,filteredNodes:a,account:o,accountBalance:r,showStakedAmount:d,handleStake:c,handleUnStake:m}=e,p=(0,i.useMemo)(()=>{let e=[{label:"EST. APY",render:e=>(0,s.jsx)(C.Z,{node:e,nodes:t})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,s.jsx)(v.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"STAKED",sortable:!0,sortBy:e=>e.total_staked,render:e=>(0,s.jsx)(N.Z,{staked:e.total_staked,status:e.status,locked:e.locked})},{label:"LINKED",sortable:!0,sortBy:e=>e.resource_nodes.length,render:e=>(0,s.jsx)(j.Z,{nodes:e.crnsData})},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,s.jsx)(k.Z,{score:e.score})},{label:"",align:"right",render:e=>(0,s.jsxs)(Z,{children:[(0,s.jsx)(S,{node:e,account:o,accountBalance:r,stakeNodes:n,onStake:c,onUnStake:m}),(0,s.jsx)(l.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",children:"Info"})]})}];return d&&o&&e.splice(e.length-1,0,{label:"AMOUNT",sortable:!0,sortBy:e=>e.stakers[o.address]||0,render:e=>(0,s.jsx)(b,{amount:e.stakers[o.address]||0})}),e.map((t,n)=>(t.width=n===e.length-1?"100%":"".concat(70/e.length-1,"%"),t))},[o,r,t,c,m,d,n]);return(0,s.jsx)(w.Z,{columns:p,data:a,borderType:"solid",oddRowNoise:!0})});I.displayName="StakingNodesTable";var Z=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1pzgecm-0"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"});let D=(0,i.memo)(e=>{let{account:t,accountBalance:n,nodes:a,stakeNodes:o,filteredNodes:h,filteredStakeNodes:u,tabs:y,selectedTab:f,filter:x,stakeableOnly:_,handleTabChange:w,handleFilterChange:v,handleStake:j,handleUnStake:k,handleChangeStakeableOnly:C}=function(e){let[{account:t,accountBalance:n=0}]=(0,d.mr)(),s=(0,i.useMemo)(()=>new c.B(t),[t]),{nodes:a,filteredNodes:o,setLastUpdate:r,...l}=(0,p.v)(e),[h,u]=(0,i.useState)(!0),g=(0,i.useCallback)(async e=>{let t=e.target.checked;u(t)},[]),y=(0,i.useCallback)(e=>e.filter(e=>s.isUserStake(e)),[s]),f=(0,i.useMemo)(()=>y(a),[y,a]),x=(0,i.useMemo)(()=>y(o),[y,o]),_=(0,i.useMemo)(()=>h&&t?o.filter(e=>s.isStakeable(e,n,[])[0]&&!s.isUserStake(e)):o,[h,o,t,s,n]),[w,v]=(0,i.useState)("stake"),j=f.length?w:"nodes",k=(0,i.useMemo)(()=>{let e=[{id:"stake",name:"My stakes",disabled:!f.length},{id:"nodes",name:"All core nodes"}];return e},[f]),C=(0,i.useMemo)(()=>new m.S(t),[t]),N=(0,i.useCallback)(async e=>{await C.stake(e),r(Date.now())},[r,C]),S=(0,i.useCallback)(async e=>{await C.unStake(e),r(Date.now())},[r,C]);return{account:t,accountBalance:n,nodes:a,stakeNodes:f,filteredNodes:_,filteredStakeNodes:x,selectedTab:j,tabs:k,stakeableOnly:h,...l,handleTabChange:v,handleStake:N,handleUnStake:S,handleChangeStakeableOnly:g,setLastUpdate:r}}(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Aleph.im | Account"}),(0,s.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)(A,{className:"tp-h5",children:"Staking"}),(0,s.jsxs)(M,{children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(B,{className:"tp-h7",children:"What is staking with Aleph.im?"}),(0,s.jsxs)("p",{children:["Staking is the heartbeat of our dynamic peer-to-peer network, driving security, decentralization, and rewards. Stakers, the lifeblood of our ecosystem, with a minimum stake of 10,000 Aleph tokens, form the network's foundation. Rewards are distributed every 10 days and are auto-compounded, allowing your stake to grow organically. The Annual Percentage Yield (APY) depends on factors like linked Compute Resource Nodes (CRNs) and node scoring, ensuring a fair and dynamic staking experience. Aleph.im staking empowers you to control the controllers, shaping decentralized connectivity while earning rewards for your participation. Plus, it's non-custodial."," ",(0,s.jsx)(R,{className:"text-main1",children:"Join us today!"})]})]}),a&&(0,s.jsx)(E,{children:(0,s.jsx)(g,{nodes:a})})]})]}),(0,s.jsxs)(z,{children:[(0,s.jsxs)(L,{children:[(0,s.jsxs)(F,{children:[(0,s.jsx)(l.mQ,{tabs:y,align:"left",selected:f,onTabChange:w}),!!t&&(0,s.jsx)(l.XZ,{label:"Ready to stake",checked:_,onChange:C,disabled:"nodes"!==f})]}),(0,s.jsx)(l.oi,{value:x,name:"filter-ccn",placeholder:"Search me",onChange:v})]}),"stake"===f?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(I,{nodes:a,filteredNodes:u,stakeNodes:o,accountBalance:n,account:t,handleStake:j,handleUnStake:k,showStakedAmount:!0})}):(0,s.jsx)(s.Fragment,{children:a?(0,s.jsx)(I,{nodes:a,filteredNodes:h,stakeNodes:o,accountBalance:n,account:t,handleStake:j,handleUnStake:k}):(0,s.jsx)(s.Fragment,{children:"Loading..."})})]})]})});D.displayName="StakingPage";var A=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-ujps5p-0"})({marginBottom:"2rem"}),M=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ujps5p-1"})({marginBottom:"3.5rem",marginTop:"2rem",display:"flex",alignItems:"flex-start",gap:"1.5rem"}),T=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ujps5p-2"})({flex:"1 1 auto"}),B=(0,a.ZP)("h2").withConfig({displayName:"cmp___StyledH2",componentId:"sc-ujps5p-3"})({marginBottom:"0px"}),R=(0,a.ZP)("strong").withConfig({displayName:"cmp___StyledStrong",componentId:"sc-ujps5p-4"})({fontWeight:"700"}),E=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ujps5p-5"})({flex:"1 1 0%"}),z=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-ujps5p-6"})({marginTop:"3.5rem"}),L=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-ujps5p-7"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),F=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ujps5p-8"})({display:"flex",alignItems:"center",gap:"1rem"}),O=D}},function(e){e.O(0,[733,956,78,861,845,390,852,626,572,162,9,774,888,179],function(){return e(e.s=44994)}),_N_E=e.O()}]);