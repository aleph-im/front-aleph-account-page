(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{44994:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/staking",function(){return n(17501)}])},36493:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),a=n(19521),s=n(67294),o=n(63608);let l=(0,a.ZP)(o.Z).attrs(e=>{let{$performance:t,...n}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledAPYIcon",componentId:"sc-1z11sih-0"})([""]);var r=n(47630);let d=(0,s.memo)(e=>{let{node:t,nodes:n}=e,a=new r.S,s=a.computeEstimatedStakersAPY(t,n),o=a.currentAPY(n);return(0,i.jsxs)(m,{children:[(0,i.jsx)(l,{$performance:s/o}),Number(100*s).toFixed(2),"%"]})});d.displayName="APYCell";var c=d,m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y5e56o-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"})},52984:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(19521);let a=i.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-lav9ln-0"})(e=>{var t;let{theme:n,$color:a="main0",$gradient:s,$percent:o}=e,l=s?null===(t=n.gradient[s])||void 0===t?void 0:t.fn:void 0,r=l||n.color[a]||a,d="".concat(n.color.base0,"20");return[{position:"relative",height:"0.125rem",width:"100%"},(0,i.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],d,{position:"absolute",left:"0px",top:"0px",height:"100%"},r,100*o)]});var s=a},90709:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(85893),a=n(19521),s=n(67294);let o=a.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-q6l3ug-0"})(e=>{let{theme:t,$score:n}=e,i=void 0===n?"".concat(t.color.base0,"20"):n>=.8?t.color.main1:n>=.5?t.color.main0:t.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,a.iv)(["background-color:",";"],i)]}),l=(0,s.memo)(e=>{let{nodes:t,subfix:n,max:a=3,...s}=e;return(0,i.jsxs)(d,{...s,children:[(0,i.jsx)(c,{children:Array.from({length:a},(e,n)=>{var a;return(0,i.jsx)(o,{$score:null==t?void 0:null===(a=t[n])||void 0===a?void 0:a.score},n)})}),(0,i.jsxs)(m,{className:"fs-10",children:[null==t?void 0:t.length," ",(0,i.jsxs)(p,{children:["of ",a,n]})]})]})});l.displayName="NodeLinkedNodes";var r=l,d=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1i7lvnr-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),c=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1i7lvnr-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1i7lvnr-2"})({whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1i7lvnr-3"})({opacity:"0.2"})},11140:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(85893),a=n(19521),s=n(67294),o=n(7251),l=n(52984);let r=(0,s.memo)(e=>{let{staked:t,status:n,locked:a}=e,s=Math.min(t,5e5)/5e5,r=Number(t/1e3).toFixed(0);return(0,i.jsxs)(c,{className:"fs-10",children:[(0,i.jsxs)(m,{children:[(0,i.jsxs)("div",{children:[r,"k ",(0,i.jsx)(p,{children:"of 500k"})]}),(0,i.jsxs)(h,{children:[n.toUpperCase(),a&&(0,i.jsx)(o.JO,{name:"lock",size:"xs"})]})]}),(0,i.jsx)(u,{children:(0,i.jsx)(l.Z,{$percent:s,$color:s>=1?"main1":"main0"})})]})});r.displayName="NodeStaked";var d=r,c=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-158w15e-0"})({width:"100%",lineHeight:"1rem"}),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-158w15e-1"})({marginBottom:"0.625rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375rem",whiteSpace:"nowrap",lineHeight:"1rem"}),p=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-158w15e-2"})({opacity:"0.2"}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-158w15e-3"})({display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.375rem"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-158w15e-4"})({display:"flex",alignItems:"center",gap:"0.25rem"})},96272:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n(94461),a=n(7251),s=n(67294);function o(e){let{nodes:t}=e,[n]=(0,i.mr)(),{account:o,balance:l=0}=n.account,{data:r}=n.lastCCNVersion,{entities:d}=n.ccns,[c,m]=(0,s.useState)(""),p=(0,a.$P)(c,200),h=(0,s.useCallback)(e=>{let t=e.target.value;m(t)},[]),u=(0,s.useCallback)((e,t)=>{if(t)return e?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):t},[]),g=(0,s.useMemo)(()=>{let e=t||d;if(e)return e.sort((e,t)=>t.score-e.score)},[t,d]),y=(0,s.useMemo)(()=>u(p,g),[u,p,g]);return{account:o,accountBalance:l,nodes:g,filteredNodes:y,filter:c,lastVersion:r,handleFilterChange:h}}},17501:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var i=n(85893),a=n(19521),s=n(67294),o=n(9008),l=n.n(o),r=n(7251),d=n(94461),c=n(48107),m=n(47630),p=n(96272),h=n(38753),u=n(94527),g=n(51383),y=n(87274);let f=(0,a.ZP)(r.iA).withConfig({displayName:"styles__StyledTable",componentId:"sc-b7wjwz-0"})(["&&{thead{","}td,th{"," border-bottom:1px solid #ffffff22;&:first-child{","}}}"],{display:"none"},{width:"0px",maxWidth:"0rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},{textAlign:"left",fontSize:"0.75rem",lineHeight:"1rem",textTransform:"uppercase"});var x=n(13153);let v=(0,s.memo)(e=>{let{nodes:t}=e,[n,a]=(0,s.useState)(1e3),o=(0,s.useCallback)(e=>{let t=e.target.value?Number(e.target.value):void 0;a(t)},[]),l=(0,s.useMemo)(()=>{let e=new m.S,i=e.totalPerAlephPerDay(t||[])*(n||0),a=100*e.currentAPY(t||[]);return[{name:"Rewards per day",value:"".concat(i.toFixed(2)," ALEPH")},{name:"Current APY",value:"".concat(a.toFixed(2),"%")}]},[t,n]);return(0,i.jsx)(x.Z,{loading:!t,children:(0,i.jsxs)(_,{children:[(0,i.jsx)(w,{forwardedAs:"h3",type:"info",color:"main0",children:"REWARD CALCULATOR"}),(0,i.jsx)(j,{children:(0,i.jsx)(r.oi,{value:n,onChange:o,type:"number",name:"staked-amount",placeholder:"0",label:"Amount staked",buttonStyle:"wrapped"})}),(0,i.jsx)(f,{borderType:"solid",rowKey:e=>e.name,columns:[{label:"",render:e=>e.name},{label:"",render:e=>e.value}],data:l})]})})});v.displayName="RewardCalculator";var _=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-15iqn8s-0"})({width:"20rem",overflow:"auto"}),w=(0,a.ZP)(r.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-15iqn8s-1"})({marginBottom:"1.5rem"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-15iqn8s-2"})({marginBottom:"1rem"}),k=n(68461),S=n(71806),N=n(90709),b=n(88968),C=n(36493),P=n(11140);let Z=(0,s.memo)(e=>{let{node:t,account:n,accountBalance:a=0,onStake:o,onUnstake:l}=e,d=(0,s.useMemo)(()=>new c.B(n),[n]),m=(0,s.useMemo)(()=>d.isUserStake(t),[t,d]),p=(0,s.useMemo)(()=>{let[e]=d.isStakeable(t,a);return!e},[d,t,a]),h=(0,s.useCallback)(()=>{m?l(t.hash):o(t.hash)},[m,l,t.hash,o]);return(0,i.jsx)(i.Fragment,{children:m?(0,i.jsx)(r.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main2",onClick:h,children:"Unstake"}):(0,i.jsx)(r.zx,{kind:"neon",size:"regular",variant:"secondary",color:"main0",onClick:h,disabled:p,children:"Stake"})})});Z.displayName="StakeButton";let I=(0,s.memo)(e=>{let{amount:t,...n}=e;return(0,i.jsxs)(A,{...n,children:[t.toFixed(2),(0,i.jsx)(r.TR,{text:""})]})});I.displayName="NodeAmount";var A=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1jgt2ai-0"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"}),D=n(87931);let T=(0,s.memo)(e=>{let{nodes:t,filteredNodes:n,account:a,accountBalance:o,showStakedAmount:l,nodesIssues:r,handleStake:d,handleUnstake:c}=e,m=(0,s.useMemo)(()=>{let e=[{label:"",align:"center",width:0,cellProps:()=>({css:{padding:"0px !important"}}),hcellProps:()=>({css:{borderWidth:"0px !important",padding:"0px !important"}}),render:e=>(null==r?void 0:r[e.hash])?(0,i.jsx)(B,{children:"\xa0"}):null},{label:"EST. APY",render:e=>(0,i.jsx)(C.Z,{node:e,nodes:t})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,i.jsx)(S.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"STAKED",sortable:!0,width:"100%",sortBy:e=>e.total_staked,render:e=>(0,i.jsx)(P.Z,{staked:e.total_staked,status:e.status,locked:e.locked})},{label:"LINKED",sortable:!0,sortBy:e=>e.resource_nodes.length,render:e=>(0,i.jsx)(N.Z,{nodes:e.crnsData})},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,i.jsx)(b.Z,{score:e.score})},{label:"",align:"right",render:e=>(0,i.jsxs)(R,{children:[(0,i.jsx)(Z,{node:e,account:a,accountBalance:o,onStake:d,onUnstake:c}),(0,i.jsx)(D.Z,{kind:"neon",size:"regular",variant:"secondary",color:"main0",href:"/earn/ccn/".concat(e.hash),children:"Info"})]})}];return l&&a&&e.splice(e.length-1,0,{label:"AMOUNT",sortable:!0,sortBy:e=>e.stakers[a.address]||0,render:e=>(0,i.jsx)(I,{amount:e.stakers[a.address]||0})}),e},[a,o,t,r,d,c,l]);return(0,i.jsx)(k.Z,{columns:m,data:n,borderType:"solid",oddRowNoise:!0})});T.displayName="StakingNodesTable";var B=(0,a.ZP)(r.Cc).withConfig({displayName:"cmp___StyledNotificationBadge",componentId:"sc-1pzgecm-0"})({marginLeft:"auto !important",marginRight:"auto !important",display:"flex !important"}),R=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1pzgecm-1"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),M=n(49869),z=n(46445),E=n(63639);let F=(0,s.memo)(e=>{let{account:t,accountBalance:n,nodes:a,filteredNodes:o,filteredStakeNodes:f,tabs:x,selectedTab:_,filter:w,isStakeableOnly:j,isStakeableOnlyDisabled:k,userStake:S,userRewards:N,lastDistribution:b,nodesIssues:C,handleTabChange:P,handleFilterChange:Z,handleStake:I,handleUnstake:A,handleStakeableOnlyChange:D}=function(e){let[t]=(0,d.mr)(),{account:n,balance:a=0}=t.account,{calculatedRewards:o,distributionTimestamp:l}=(0,u.Ht)({address:(null==n?void 0:n.address)||""}),f=(0,s.useMemo)(()=>new c.B(n),[n]),{nodes:x,filteredNodes:v,..._}=(0,p.v)(e),[w,j]=(0,s.useState)(),k=(0,s.useCallback)(async e=>{let t=e.target.checked;j(t)},[]),{stakeNodes:S}=(0,y.e)({nodes:x}),{stakeNodes:N}=(0,y.e)({nodes:v}),{nodesIssues:b,warningFlag:C}=(0,h.i)({nodes:N,isStaking:!0}),[P,Z]=(0,s.useState)(),I=P||((null==S?void 0:S.length)?"stake":"nodes"),A=(0,s.useMemo)(()=>{let e=[{id:"stake",name:"My stakes",disabled:!(null==S?void 0:S.length),label:C?{label:(0,i.jsx)(r.Cc,{children:C}),position:"top"}:void 0},{id:"nodes",name:"All core nodes"}];return e},[S,C]),D=(0,s.useMemo)(()=>{if(v)return v.filter(e=>f.isStakeable(e,a)[0]&&!f.isUserStake(e))},[a,v,f]),T=!(null==D?void 0:D.length)||"nodes"!==I,B=!T&&(void 0!==w?w:!!n),R=(0,s.useMemo)(()=>B&&n?D:v,[B,v,n,D]),{sortedNodes:M}=(0,g.L)({nodesIssues:b,nodes:N}),z=(0,s.useMemo)(()=>new m.S(n),[n]),E=(0,s.useCallback)(async e=>{await z.stake(e)},[z]),F=(0,s.useCallback)(async e=>{await z.unstake(e)},[z]),L=(0,s.useMemo)(()=>z.totalStakedByUser(x||[]),[x,z]);return{account:n,accountBalance:a,nodes:x,filteredNodes:R,filteredStakeNodes:M,selectedTab:I,tabs:A,isStakeableOnly:B,isStakeableOnlyDisabled:T,userStake:L,userRewards:o,lastDistribution:l,nodesIssues:b,..._,handleTabChange:Z,handleStake:E,handleUnstake:F,handleStakeableOnlyChange:k}}(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Aleph.im | Account"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(L,{className:"tp-h5",children:"Staking"})}),(0,i.jsx)("section",{children:(0,i.jsx)(M.Z,{children:(0,i.jsxs)(O,{children:[(0,i.jsxs)(U,{children:[(0,i.jsx)(Y,{className:"tp-h7",children:"What is staking with Aleph.im?"}),(0,i.jsxs)("p",{className:"fs-16",children:["Staking is the heartbeat of our dynamic peer-to-peer network, driving security, decentralization, and rewards. Stakers, the lifeblood of our ecosystem, with a minimum stake of 10,000 Aleph tokens, form the network's foundation. Rewards are distributed every 10 days and are auto-compounded, allowing your stake to grow organically. The Annual Percentage Yield (APY) depends on factors like linked Compute Resource Nodes (CRNs) and node scoring, ensuring a fair and dynamic staking experience. Aleph.im staking empowers you to control the controllers, shaping decentralized connectivity while earning rewards for your participation. Plus, it's non-custodial."," ",(0,i.jsx)(H,{className:"text-main1",children:"Join us today!"})]})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)(v,{nodes:a}),(0,i.jsx)(E.Z,{title:"STAKING REWARDS",calculatedRewards:N,distributionTimestamp:b,disabled:!t||!S})]})]})})}),(0,i.jsxs)($,{children:[(0,i.jsxs)(q,{children:[(0,i.jsxs)(K,{children:[(0,i.jsx)(r.mQ,{tabs:x,align:"left",selected:_,onTabChange:P}),(0,i.jsx)(r.XZ,{label:"Ready to stake",checked:j,onChange:D,size:"xs",disabled:k})]}),(0,i.jsx)(r.oi,{value:w,name:"filter-ccn",placeholder:"Search me",onChange:Z,icon:(0,i.jsx)(r.JO,{name:"search"})})]}),(0,i.jsxs)(J,{children:[(0,i.jsx)(z.Z,{show:!a}),(0,i.jsx)(i.Fragment,{children:"stake"===_?(0,i.jsx)(i.Fragment,{children:a&&f&&(0,i.jsx)(T,{nodes:a,filteredNodes:f,accountBalance:n,account:t,handleStake:I,handleUnstake:A,showStakedAmount:!0,nodesIssues:C})}):(0,i.jsx)(i.Fragment,{children:a&&o&&(0,i.jsx)(T,{nodes:a,filteredNodes:o,accountBalance:n,account:t,handleStake:I,handleUnstake:A,nodesIssues:C})})})]})]}),(0,i.jsx)(z.Z,{show:!a,center:!0})]})});F.displayName="StakingPage";var L=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-ujps5p-0"})({marginBottom:"2rem"}),O=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ujps5p-1"})({display:"flex",alignItems:"flex-start",gap:"1.5rem"}),U=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ujps5p-2"})({flex:"1 1 auto",alignSelf:"stretch"}),Y=(0,a.ZP)("h2").withConfig({displayName:"cmp___StyledH2",componentId:"sc-ujps5p-3"})({marginBottom:"0px"}),H=(0,a.ZP)("strong").withConfig({displayName:"cmp___StyledStrong",componentId:"sc-ujps5p-4"})({fontWeight:"700"}),W=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ujps5p-5"})({display:"flex",alignItems:"stretch",gap:"1.5rem"}),$=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-ujps5p-6"})({marginTop:"3.5rem"}),q=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-ujps5p-7"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),K=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ujps5p-8"})({display:"flex",alignItems:"center",gap:"1rem"}),J=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-ujps5p-9"})({position:"relative"}),X=F}},function(e){e.O(0,[959,983,363,313,774,888,179],function(){return e(e.s=44994)}),_N_E=e.O()}]);