(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[842],{93571:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/ccn/new",function(){return n(19394)}])},87931:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893),r=n(41664),o=n.n(r),a=n(7251);function s(e){let{href:t,variant:n,color:r,kind:s,size:l,children:c}=e;return(0,i.jsx)(o(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(a.zx,{as:"a",variant:n||"secondary",color:r||"main0",kind:s||"neon",size:l||"regular",children:c})})}},58833:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893),r=n(19521),o=n(7251);let a=(0,r.ZP)(o.zx).attrs(e=>({...e,forwardedAs:"a",kind:"neon",variant:"text-only",color:"main0"})).withConfig({displayName:"styles__StyledExternalLinkButton",componentId:"sc-16jaolm-0"})([""]);function s(e){let{children:t,href:n,size:r="big",...o}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a,{href:n,size:r,...o,target:"_blank",children:[t||n,(0,i.jsx)(l,{name:"square-up-right"})]})})}var l=(0,r.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mpznlq-0"})({marginLeft:"0.625rem"})},11912:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),r=n(19521),o=n(67294),a=n(7251);let s=(0,r.ZP)(a.zx).attrs(e=>({...e,forwardedAs:"span",onClick:e=>e.preventDefault(),kind:"neon",size:"big",variant:"text-only",color:"main0"})).withConfig({displayName:"styles__StyledInfoTooltipButton",componentId:"sc-1nmv0rk-0"})(()=>[{cursor:"help !important"}]);function l(e){let{children:t,tooltipContent:n,plain:r,align:s="right",vAlign:l="center",...u}=e,[h,f]=(0,o.useState)(!1);(0,o.useEffect)(()=>{f(!0)},[]);let y=(0,o.useRef)(null),g=(0,a._K)("md"),x=(0,i.jsx)(c,{name:"info-circle",$_css:["left"===s?{order:"-1"}:"","top"===l?{marginBottom:"0.5rem"}:""]});return(0,i.jsxs)(i.Fragment,{children:[r?(0,i.jsxs)(d,{ref:y,children:[t,x]}):(0,i.jsxs)(m,{ref:y,children:[t,x]}),h&&(0,i.jsx)(p,{...u,targetRef:y,content:n,$_css2:g?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:{}})]})}var c=(0,r.ZP)(a.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-15p503-0"})(["",""],e=>e.$_css),d=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-15p503-1"})({display:"inline-flex",cursor:"help",alignItems:"center",gap:"0.625rem"}),m=(0,r.ZP)(s).withConfig({displayName:"cmp___StyledStyledInfoTooltipButton",componentId:"sc-15p503-2"})({display:"inline-flex",alignItems:"center",gap:"0.625rem"}),p=(0,r.ZP)(a.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-15p503-3"})(["",""],e=>e.$_css2)},43291:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),r=n(67294),o=n(19521);let a=o.ZP.form.withConfig({displayName:"styles__StyledForm",componentId:"sc-1c33mus-0"})(["",""],{display:"flex",flex:"1 1 0%",flexDirection:"column",gap:"2rem"});var s=n(7251);let l=e=>{let{children:t,onSubmit:n,errors:r,...o}=e;return(0,i.jsxs)(a,{onSubmit:n,noValidate:!0,...o,children:[t,(0,i.jsx)("div",{children:(null==r?void 0:r.root)&&Object.values(r.root).map(e=>(0,i.jsx)(s.Xq,{error:e},e+""))})]})};var c=(0,r.memo)(l)},78512:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(67294),r=n(11163),o=n(94461);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",[t]=(0,o.mr)(),n=(0,r.useRouter)();(0,i.useEffect)(()=>{t.account||n.replace(e)})}},10159:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var i=n(7251),r=n(67294),o=n(87536),a=n(1604);function s(e){let{onSubmit:t,onSuccess:n,onError:s,...l}=e,c=(0,o.cI)(l),[d,m]=(0,r.useState)({data:void 0,error:void 0,loading:!1}),[p,{onLoad:u,onSuccess:h,onError:f}]=(0,i.g7)({flushData:!0,state:d,setState:m,onSuccess:n,onError:s}),y=(0,r.useCallback)(async e=>{try{u();let n=await t(e);h(n)}catch(t){let e=t instanceof a.jm?Error("Validation error, check highlighted form fields"):(null==t?void 0:t.cause)||t;c.setError("root.serverError",{...e,message:null==e?void 0:e.message}),f(e)}},[c,f,u,t,h]),g=(0,r.useCallback)(async e=>{let t;if(console.log(e),!t){let n=function e(t){let[n]=Object.entries(t);if(!n)return;let[i,r]=n;if(Array.isArray(r)){let t=r[r.length-1];return e(t)}return[i,r]}(e);if(n){let[e,i]=n,r="string"==typeof i?i:(null==i?void 0:i.message)?": ".concat(i.message):(null==i?void 0:i.type)?': "'.concat(null==i?void 0:i.type,'" validation not satisfied'):"";t=Error('Error on field "'.concat(e,'"').concat(r))}}t||(t=Error("Validation error")),f(t)},[f]),x=(0,r.useMemo)(()=>c.handleSubmit(y,g),[c,y,g]);return{...c,requestState:p,handleSubmit:x}}},19394:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var i=n(85893),r=n(19521),o=n(67294),a=n(9008),s=n.n(a),l=n(43291),c=n(7251),d=n(94461),m=n(11163),p=n(78512),u=n(10159),h=n(87536),f=n(56312),y=n(48107);let g={name:"",multiaddress:""};var x=n(11912),_=n(58833),v=n(87931);let j=()=>{let{nameCtrl:e,multiaddressCtrl:t,errors:n,handleSubmit:r}=function(){(0,p.Z)();let e=(0,m.useRouter)(),[t]=(0,d.mr)(),{account:n}=t.account,i=(0,c.lm)(),r=(0,o.useMemo)(()=>new y.B(n),[n]),a=(0,o.useCallback)(async e=>{if(!r)throw Error("Manager not ready");let t=await r.newCoreChannelNode(e);return t},[r]),s=(0,o.useCallback)(async t=>{if(!i)throw Error("Notification not ready");i.add({variant:"success",title:"Success",text:'Your node "'.concat(t,'" was created successfully.')}),e.replace("/earn/ccn/".concat(t))},[i,e]),{control:l,handleSubmit:x,formState:{errors:_}}=(0,u.c)({defaultValues:g,onSubmit:a,onSuccess:s,resolver:(0,f.F)(y.B.newCCNSchema)}),v=(0,h.qo)({control:l}),j=(0,h.bc)({control:l,name:"name"}),w=(0,h.bc)({control:l,name:"multiaddress"});return{values:v,control:l,nameCtrl:j,multiaddressCtrl:w,errors:_,handleSubmit:x}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Aleph.im | Create CCN"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Create Core Channel Node"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(C,{className:"tp-h5",children:"Create core node"})}),(0,i.jsxs)(N,{onSubmit:r,errors:n,children:[(0,i.jsxs)(S,{children:[(0,i.jsx)(c.NP,{as:"h2",number:"1",children:"Set a name"}),(0,i.jsx)(b,{children:"Your node name should be short and meaningful."}),(0,i.jsxs)(c.Jy,{children:[(0,i.jsx)(x.Z,{plain:!0,my:"bottom-left",at:"bottom-right",vAlign:"top",tooltipContent:(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"tp-body2 fs-18",children:"Name"}),(0,i.jsx)("div",{className:"tp-body1 fs-18",children:"Blabla"})]})}),children:(0,i.jsx)(c.lX,{label:"Node name",error:e.fieldState.error,required:!0})}),(0,i.jsx)(c.oi,{...e.field,...e.fieldState,required:!0,placeholder:"Give it a name"}),(0,i.jsx)(I,{children:"You can change this later if you want, even add a picture and desctiption."})]})]}),(0,i.jsxs)(P,{children:[(0,i.jsx)(c.NP,{as:"h2",number:"2",children:"Set multiaddress"}),(0,i.jsx)(k,{children:"The physical node as unique identifier called multiaddress. It links the wallet and interface to the physical node. Can be setup later on the info page of the node or at setup if the physical node is already running. This screen has a link to install procedure of the node as well."}),(0,i.jsxs)(c.Jy,{children:[(0,i.jsx)(x.Z,{plain:!0,my:"bottom-left",at:"bottom-right",vAlign:"top",tooltipContent:(0,i.jsx)(E,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"tp-body2 fs-18",children:"Multiaddress"}),(0,i.jsx)("div",{className:"tp-body1 fs-18",children:"Blabla"})]})}),children:(0,i.jsx)(c.lX,{label:"Set multiaddress",error:t.fieldState.error})}),(0,i.jsx)(c.oi,{...t.field,...t.fieldState,placeholder:"Multiaddress (optional)"}),(0,i.jsx)(B,{children:(0,i.jsx)(_.Z,{href:"https://docs.aleph.im/nodes/core/",size:"regular",children:"How to create a node"})})]})]}),(0,i.jsxs)(T,{children:[(0,i.jsx)(c.zx,{color:"main0",kind:"neon",variant:"primary",size:"regular",type:"submit",children:"Create core node"}),(0,i.jsx)(v.Z,{size:"regular",href:"/earn/ccn",children:"Cancel"})]})]})]})};j.displayName="NewCoreChannelNodePage";var w=(0,o.memo)(j),C=(0,r.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-2yv219-0"})({marginBottom:"2rem"}),N=(0,r.ZP)(l.Z).withConfig({displayName:"cmp___StyledForm",componentId:"sc-2yv219-1"})({maxWidth:"44.6875rem"}),S=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-2yv219-2"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem","@media (min-width: 768px)":{paddingBottom:"2.5rem"}}),b=(0,r.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-2yv219-3"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),Z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-2yv219-4"})({textAlign:"left"}),I=(0,r.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-2yv219-5"})({marginTop:"1rem"}),P=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection2",componentId:"sc-2yv219-6"})({paddingLeft:"0px",paddingRight:"0px",paddingTop:"1.5rem",paddingBottom:"1.5rem","@media (min-width: 768px)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),k=(0,r.ZP)("p").withConfig({displayName:"cmp___StyledP3",componentId:"sc-2yv219-7"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),E=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-2yv219-8"})({textAlign:"left"}),B=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-2yv219-9"})({marginTop:"0.5rem"}),T=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection3",componentId:"sc-2yv219-10"})({display:"flex",gap:"2.5rem"}),z=w}},function(e){e.O(0,[538,774,888,179],function(){return e(e.s=93571)}),_N_E=e.O()}]);