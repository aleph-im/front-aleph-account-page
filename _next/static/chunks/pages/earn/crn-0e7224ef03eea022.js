(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{62640:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/crn",function(){return n(38766)}])},58833:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),a=n(19521),r=n(7251);let o=(0,a.ZP)(r.zx).attrs(e=>({...e,forwardedAs:"a",kind:"neon",variant:"text-only",color:"main0"})).withConfig({displayName:"styles__StyledExternalLinkButton",componentId:"sc-16jaolm-0"})([""]);function l(e){let{children:t,href:n,size:a="big",...r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o,{href:n,size:a,...r,target:"_blank",children:[t||n,(0,i.jsx)(s,{name:"square-up-right"})]})})}var s=(0,a.ZP)(r.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mpznlq-0"})({marginLeft:"0.625rem"})},28417:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(85893),a=n(19521),r=n(67294),o=n(34816),l=n(43815),s=n(42983),d=n(13153),c=n(7251),m=n(63608);let p=(0,r.memo)(e=>{let{title:t,nodes:n}=e,s=(0,a.Fg)(),d=(0,r.useMemo)(()=>{let e=n||[],t=e.length,i=e.reduce((e,t)=>e+Number(t.score>=.8),0),a=e.reduce((e,t)=>e+Number(t.score>=.5&&t.score<.8),0),r=e.reduce((e,t)=>e+Number(t.score<.5),0),o=t-i-a-r;return[{label:"active nodes",value:"".concat(i," nodes"),percentage:i/t,color:"main1"},{label:"50% < 80%",value:"".concat(a," nodes"),percentage:a/t,color:"main2"},{label:"< 50%",value:"".concat(r," nodes"),percentage:r/t,color:"error"},{label:"other",value:"".concat(o," nodes"),percentage:o/t,color:"transparent"}]},[n]),c="".concat(s.color.base0,"20"),p=[...d].reverse();return(0,i.jsxs)(u,{loading:!n,children:[(0,i.jsx)(x,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsxs)(g,{children:[(0,i.jsxs)(y,{width:100,height:100,margin:{},children:[(0,i.jsx)(o.b,{data:[{v:1}],dataKey:"v",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,isAnimationActive:!1,fill:c}),(0,i.jsx)(o.b,{data:p,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,children:p.map(e=>{let t=s.color[e.color]||e.color;return(0,i.jsx)(l.b,{fill:t},e.label)})}),(0,i.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",className:"tp-body3 fs-24",fill:s.color.text,children:(null==n?void 0:n.length)||0})]}),(0,i.jsx)(f,{children:Array.from({length:2}).map((e,t)=>(0,i.jsx)(_,{children:d.slice(2*t,2*t+2).map(e=>(0,i.jsxs)(v,{children:[(0,i.jsx)(m.Z,{$color:"transparent"===e.color?c:e.color,$size:"1.25rem"}),(0,i.jsxs)(j,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(N,{className:"fs-10",children:e.label})]})]},e.label))},t))})]})]})});p.displayName="NetworkHealthChart";var h=p,u=(0,a.ZP)(d.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-ghx7oa-0"})({width:"auto",minWidth:"17.25rem"}),x=(0,a.ZP)(c.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-ghx7oa-1"})({margin:"0px",minHeight:"2rem"}),g=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ghx7oa-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),y=(0,a.ZP)(s.u).withConfig({displayName:"cmp___StyledPieChart",componentId:"sc-ghx7oa-3"})({marginTop:"0.75rem",marginBottom:"0.75rem",minHeight:"6.25rem"}),f=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ghx7oa-4"})({marginTop:"0.25rem",display:"flex",width:"100%",alignItems:"stretch",justifyContent:"space-between",gap:"1rem"}),_=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ghx7oa-5"})({display:"flex",flexDirection:"column",gap:"1rem"}),v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-ghx7oa-6"})({display:"flex",alignItems:"center",gap:"0.75rem"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ghx7oa-7"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-ghx7oa-8"})({opacity:"0.6"})},58160:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(85893),a=n(19521),r=n(67294),o=n(63608);let l=(0,a.ZP)(o.Z).attrs(e=>{let{theme:t,$status:n,...i}=e,a=n>=.8?"main1":n>=.5?"main0":n>=0?"error":"".concat(t.color.base0,"20");return{$color:a,...i}}).withConfig({displayName:"styles__StyledVersionIcon",componentId:"sc-iae05r-0"})([""]);var s=n(48107),d=n(7251);let c=(0,r.memo)(e=>{var t;let{node:n,lastVersion:a}=e,o=(0,r.useMemo)(()=>new s.B,[]),c=(0,r.useMemo)(()=>a?o.isNodeUptodate(n,a)&&!o.isNodeExperimental(n,a)?1:o.isNodeOutdated(n,a)||o.isNodeExperimental(n,a)?.5:0:-1,[n,a,o]),m=(0,r.useMemo)(()=>a?o.isNodeLatest(n,a)?"latest":o.isNodePrerelease(n,a)?"prerelease":o.isNodeExperimental(n,a)?"experimental":o.isNodeOutdated(n,a)?"outdated":"obsolete":"",[n,a,o]),u=(0,i.jsxs)(p,{children:[(0,i.jsx)(l,{$status:c}),(null===(t=n.metricsData)||void 0===t?void 0:t.version)||"-"]});return(0,i.jsx)(i.Fragment,{children:c<1?(0,i.jsx)(d.u,{my:"top-center",at:"bottom-center",offset:{x:0,y:10},content:m,children:(0,i.jsxs)(h,{children:[u," ",(0,i.jsx)(d.JO,{name:"info-circle",size:"sm"})]})}):u})});c.displayName="VersionCell";var m=c,p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-i7l1ld-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem",whiteSpace:"nowrap"}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-i7l1ld-1"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"})},38766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var i=n(85893),a=n(19521),r=n(67294),o=n(9008),l=n.n(o),s=n(41664),d=n.n(s),c=n(7251),m=n(94461),p=n(65249),h=n(94527),u=n(22647),x=n(22890),g=n(68461),y=n(23187),f=n(88968),_=n(58160);let v=a.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-1dtglgs-0"})(e=>{let{theme:t,$active:n}=e,i=n?t.color.main1:"".concat(t.color.base0,"20");return[{height:"0.75rem",width:"0.5rem"},(0,a.iv)(["background-color:",";"],i)]}),j=(0,r.memo)(e=>{let{decentralization:t}=e,n=e=>(e+1)*.3;return(0,i.jsx)(N,{children:(0,i.jsx)(w,{children:Array.from({length:3}).map((e,a)=>(0,i.jsx)(v,{$active:t>=n(a)},a))})})});j.displayName="DecentralizedCell";var N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-11kg7ah-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),w=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-11kg7ah-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),C=n(47630);let b=(0,r.memo)(e=>{let{node:t}=e,n=new C.S,a=n.CRNRewardsPerDay(t),o=(0,r.useMemo)(()=>!t.parent,[t]);return(0,i.jsx)(i.Fragment,{children:o?(0,i.jsx)(i.Fragment,{children:"-"}):(0,i.jsxs)(I,{children:[(0,i.jsxs)(S,{children:["~ ",a.toFixed(2)]}),(0,i.jsx)(c.TR,{text:"",color:"main0"})]})})});b.displayName="CRNRewardsCell";var I=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yja46l-0"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"}),S=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-yja46l-1"})({whiteSpace:"nowrap"});let Z=(0,r.memo)(e=>{let{nodes:t,filteredNodes:n,lastVersion:a,nodesIssues:o}=e,l=(0,r.useMemo)(()=>[{label:"",align:"center",width:0,cellProps:()=>({css:{padding:"0px !important"}}),hcellProps:()=>({css:{padding:"0px !important"}}),render:e=>(null==o?void 0:o[e.hash])?(0,i.jsx)(D,{children:"\xa0"}):null},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,i.jsx)(f.Z,{score:e.score})},{label:"LINKED",sortable:!0,sortBy:e=>{var t;return null===(t=e.parentData)||void 0===t?void 0:t.name},render:e=>(0,i.jsx)(i.Fragment,{children:e.parentData?(0,i.jsx)(y.Z,{hash:e.parentData.hash,name:e.parentData.name,picture:e.parentData.picture}):"-"})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,i.jsx)(y.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"DECENTRALIZED",sortable:!0,sortBy:e=>e.decentralization,render:e=>(0,i.jsx)(j,{decentralization:e.decentralization})},{label:"EST. REWARDS",align:"right",render:e=>(0,i.jsx)(b,{node:e})},{label:"VERSION",sortable:!0,align:"right",width:"100%",sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>(0,i.jsx)(_.Z,{node:e,nodes:t,lastVersion:a})}],[a,t,o]);return(0,i.jsx)(g.Z,{columns:l,data:n})});Z.displayName="ComputeResourceNodesTable";var D=(0,a.ZP)(c.Cc).withConfig({displayName:"cmp___StyledNotificationBadge",componentId:"sc-1hivp77-0"})({marginLeft:"auto !important",marginRight:"auto !important",display:"flex !important"}),P=n(58833),R=n(49869),A=n(46445),E=n(28417),k=n(13153),T=n(63608);let O=(0,r.memo)(e=>{let{title:t,nodes:n}=e,a=(0,r.useMemo)(()=>{let e=n||Array.from({length:4},(e,t)=>({metricsData:{as_name:"Provider ".concat(t)}})),t=e.reduce((e,t)=>{var n;let i=(null===(n=t.metricsData)||void 0===n?void 0:n.as_name)||"others";return e[i]=(e[i]||0)+1,e},{others:0}),i=Object.values(t).reduce((e,t)=>e+t,0),a=Object.entries(t).filter(e=>{let[t]=e;return"others"!==t}).sort((e,t)=>{let[,n]=e,[,i]=t;return i-n}),r=a.slice(0,3),o=a.slice(3),l=["others",t.others+o.reduce((e,t)=>{let[,n]=t;return e+n},0)];return[...r,l].map((e,t)=>{let[n,a]=e,r=a/i;return{label:"".concat(a," nodes (").concat((100*r).toFixed(0),"%)"),value:n,percentage:r,color:"others"===n?"main1":0===t?"error":1===t?"main2":"main0"}})},[n]);return(0,i.jsxs)(B,{loading:!n,children:[(0,i.jsx)(z,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,i.jsx)(H,{children:a.map(e=>(0,i.jsxs)(M,{children:[(0,i.jsx)(T.Z,{$color:e.color,$size:"1.25rem"}),(0,i.jsxs)(F,{className:"tp-body3",children:[(0,i.jsx)("div",{children:e.value}),(0,i.jsx)(L,{className:"fs-10",children:e.label})]})]},e.value))})]})});O.displayName="HostingProviderChart";var B=(0,a.ZP)(k.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-1c9rl6q-0"})({width:"auto",minWidth:"10.5625rem"}),z=(0,a.ZP)(c.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1c9rl6q-1"})({margin:"0px",minHeight:"2rem"}),H=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1c9rl6q-2"})({marginTop:"0.25rem",display:"flex",flexDirection:"column",gap:"1rem"}),M=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1c9rl6q-3"})({display:"flex",alignItems:"center",gap:"0.75rem"}),F=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1c9rl6q-4"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),L=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1c9rl6q-5"})({opacity:"0.6"}),q=n(63639);let W=(0,r.memo)(e=>{let{account:t,nodes:n,userNodes:a,filteredNodes:o,filteredUserNodes:s,tabs:g,selectedTab:y,filter:f,lastVersion:_,userRewards:v,lastDistribution:j,handleTabChange:N,handleFilterChange:w}=function(e){let[t]=(0,m.mr)(),{account:n,balance:a=0}=t.account,{nodes:o,filteredNodes:l,...s}=function(e){let{nodes:t}=e,[n]=(0,m.mr)(),{account:i,balance:a=0}=n.account,{data:o}=n.lastCRNVersion,{entities:l}=n.crns,[s,d]=(0,r.useState)(""),p=(0,c.$P)(s,200),h=(0,r.useCallback)(e=>{let t=e.target.value;d(t)},[]),u=(0,r.useCallback)((e,t)=>{if(t)return e?t.filter(t=>{var n;return t.name.toLowerCase().includes(e.toLowerCase())||((null===(n=t.parentData)||void 0===n?void 0:n.name)||"").toLowerCase().includes(e.toLowerCase())}):t},[]),x=(0,r.useMemo)(()=>{let e=t||l;if(e)return e.sort((e,t)=>t.score-e.score)},[t,l]),g=(0,r.useMemo)(()=>u(p,x),[u,p,x]);return{account:i,accountBalance:a,nodes:x,filteredNodes:g,filter:s,lastVersion:o,handleFilterChange:h}}(e),{userNodes:d}=(0,u.A)({nodes:o}),{userNodes:g}=(0,u.A)({nodes:l}),{nodesIssues:y,warningFlag:f}=(0,p.h)({nodes:g}),{sortedNodes:_}=(0,x.H)({nodesIssues:y,nodes:g}),[v,j]=(0,r.useState)("user"),N=(null==d?void 0:d.length)?v:"nodes",w=(0,r.useMemo)(()=>{let e=[{id:"user",name:"My compute nodes",disabled:!(null==d?void 0:d.length),label:f?{label:(0,i.jsx)(c.Cc,{children:f}),position:"top"}:void 0},{id:"nodes",name:"All compute nodes"}];return e},[d,f]),{lastRewardsCalculation:C,lastRewardsDistribution:b}=(0,h._k)(),I=(0,r.useMemo)(()=>C?null==d?void 0:d.reduce((e,t)=>e+(C.rewards[t.reward]||0),0):void 0,[C,d]),S=null==b?void 0:b.timestamp;return{account:n,accountBalance:a,nodes:o,filteredNodes:l,userNodes:d,filteredUserNodes:_,selectedTab:N,tabs:w,userRewards:I,lastDistribution:S,nodesIssues:y,...s,handleTabChange:j}}(e),C=(0,i.jsx)(d(),{href:"/earn/crn/new",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)($,{color:"main0",kind:"neon",variant:"secondary",size:"regular",children:[(0,i.jsx)(c.JO,{name:"key"}),"Create compute node"]})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Aleph.im | Account"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(V,{className:"tp-h5",children:"Compute nodes"})}),(0,i.jsx)("section",{children:(0,i.jsx)(R.Z,{buttons:C,children:(0,i.jsxs)(G,{children:[(0,i.jsxs)(J,{children:[(0,i.jsx)(E.Z,{nodes:n,title:"CRN NETWORK HEALTH"}),(0,i.jsx)(O,{nodes:n,title:"TOP HOSTING PROVIDER"}),(0,i.jsx)(q.Z,{title:"CRN REWARDS",calculatedRewards:v,distributionTimestamp:j,disabled:!t||!(null==a?void 0:a.length)})]}),(0,i.jsxs)(K,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(U,{className:"tp-h7",children:"What is a compute node?"}),(0,i.jsx)("p",{className:"fs-12",children:"Anyone can set up a Compute Resource Node (CRN) to contribute to our decentralized network. These nodes play a crucial role in our ecosystem, enabling various services. While no commitment is needed to establish a CRN, to unlock a minimum wage for your CRN, it needs the endorsement of a Core Channel Node (CCN). A CCN operator can vouch for up to three CRNs, ensuring fair and balanced participation."}),(0,i.jsx)(P.Z,{href:"https://docs.aleph.im/nodes/compute/",size:"regular",children:"Node Setup Guide"})]}),(0,i.jsx)(X,{children:C})]})]})})}),(0,i.jsxs)(Q,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(c.mQ,{tabs:g,align:"left",selected:y,onTabChange:N}),(0,i.jsx)(c.oi,{value:f,name:"filter-ccn",placeholder:"Search me",onChange:w,icon:(0,i.jsx)(c.JO,{name:"search"})})]}),(0,i.jsxs)(ee,{children:[(0,i.jsx)(A.Z,{show:!n}),n&&o&&s&&(0,i.jsx)(i.Fragment,{children:"user"===y?(0,i.jsx)(Z,{nodes:n,filteredNodes:s,lastVersion:_}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Z,{nodes:n,filteredNodes:o,lastVersion:_})})})]})]})]})});W.displayName="ComputeResourceNodesPage";var $=(0,a.ZP)(c.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1m9xt13-0"})({gap:"0.625rem"}),V=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-1m9xt13-1"})({marginBottom:"2rem"}),G=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1m9xt13-2"})({display:"flex",alignItems:"flex-start",gap:"1.5rem"}),J=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1m9xt13-3"})({display:"flex",alignItems:"stretch",gap:"1.5rem"}),K=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1m9xt13-4"})({display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",alignSelf:"stretch"}),U=(0,a.ZP)("h1").withConfig({displayName:"cmp___StyledH2",componentId:"sc-1m9xt13-5"})({marginBottom:"0px"}),X=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1m9xt13-6"})({marginTop:"1.5rem"}),Q=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1m9xt13-7"})({marginTop:"3.5rem"}),Y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1m9xt13-8"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),ee=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1m9xt13-9"})({position:"relative"}),et=W}},function(e){e.O(0,[261,56,774,888,179],function(){return e(e.s=62640)}),_N_E=e.O()}]);