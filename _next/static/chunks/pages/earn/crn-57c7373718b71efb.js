(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{44628:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/crn",function(){return n(67111)}])},66006:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=n(85893),i=n(19521),r=n(67294),s=n(47630),o=n(34816),l=n(43815),d=n(42983),c=n(88459),m=n(7251),p=n(63608),u=n(87625);let h=(0,r.memo)(e=>{let{title:t,nodes:n}=e,d=(0,r.useMemo)(()=>new s.S,[]),c=(0,i.Fg)(),m=(0,r.useMemo)(()=>{let e=n.length,t=d.activeNodes(n).length,a=e-t;return[{label:"Active nodes",value:t,percentage:t/e,gradient:"main0"},{label:"Non active",value:a,percentage:a/e,color:"".concat(c.color.base0,"20")}]},[n,d,c]);return(0,a.jsxs)(x,{children:[(0,a.jsx)(y,{forwardedAs:"h3",type:"info",color:"main0",children:t}),(0,a.jsxs)(f,{children:[(0,a.jsxs)(_,{data:m,width:100,height:100,children:[(0,a.jsx)("defs",{children:(0,a.jsx)(u._,{data:m})}),(0,a.jsx)(o.b,{data:m,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:540,endAngle:360,children:m.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?c.color[e.color]||e.color:void 0;return(0,a.jsx)(l.b,{fill:n},e.label)})})]}),(0,a.jsx)(v,{children:m.map(e=>(0,a.jsxs)(j,{children:[(0,a.jsx)(p.Z,{$color:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,a.jsxs)(w,{className:"tp-body2",children:[(0,a.jsx)("div",{children:e.value}),(0,a.jsx)("div",{className:"fs-xs",children:e.label})]})]},e.label))})]})]})});h.displayName="ActiveNodeChart";var g=h,x=(0,i.ZP)(c.Z).withConfig({displayName:"cmp___StyledCard",componentId:"sc-1iwyxnm-0"})({width:"auto",minWidth:"148px"}),y=(0,i.ZP)(m.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1iwyxnm-1"})({marginBottom:"1.5rem"}),f=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1iwyxnm-2"})({display:"flex",flexDirection:"column",alignItems:"center"}),_=(0,i.ZP)(d.u).withConfig({displayName:"cmp___StyledPieChart",componentId:"sc-1iwyxnm-3"})({marginBottom:"-2.5rem"}),v=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1iwyxnm-4"})({zIndex:"1",marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}),j=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1iwyxnm-5"})({display:"flex",alignItems:"center",gap:"0.75rem"}),w=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1iwyxnm-6"})({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"})},10375:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(85893),i=n(19521),r=n(67294),s=n(63608);let o=(0,i.ZP)(s.Z).attrs(e=>{let{theme:t,$status:n,...a}=e,i=n>=.8?"main1":n>=.5?"main0":n>=0?"error":"".concat(t.color.base0,"20");return{$color:i,...a}}).withConfig({displayName:"styles__StyledVersionIcon",componentId:"sc-iae05r-0"})([""]);var l=n(64486),d=n(7251);let c=(0,r.memo)(e=>{var t;let{node:n,lastVersion:i}=e,s=(0,r.useMemo)(()=>new l.B,[]),c=(0,r.useMemo)(()=>i?s.isNodeUptodate(n,i)&&!s.isNodeExperimental(n,i)?1:s.isNodeOutdated(n,i)||s.isNodeExperimental(n,i)?.5:0:-1,[n,i,s]),m=(0,r.useMemo)(()=>i?s.isNodeLatest(n,i)?"latest":s.isNodePrerelease(n,i)?"prerelease":s.isNodeExperimental(n,i)?"experimental":s.isNodeOutdated(n,i)?"outdated":"obsolete":"",[n,i,s]),h=(0,a.jsxs)(p,{children:[(0,a.jsx)(o,{$status:c}),(null===(t=n.metricsData)||void 0===t?void 0:t.version)||"-"]});return(0,a.jsx)(a.Fragment,{children:c<1?(0,a.jsx)(d.u,{my:"top-center",at:"bottom-center",header:"Version",offset:{x:0,y:10},content:m,children:(0,a.jsxs)(u,{children:[h," ",(0,a.jsx)(d.JO,{name:"info-circle",size:"sm"})]})}):h})});c.displayName="VersionCell";var m=c,p=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-i7l1ld-0"})({display:"flex",alignItems:"center",gap:"0.75rem",whiteSpace:"nowrap"}),u=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-i7l1ld-1"})({display:"flex",alignItems:"center",gap:"0.5rem"})},87625:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var a=n(85893),i=n(19521);function r(e){let{data:t}=e,n=(0,i.Fg)();return(0,a.jsx)(a.Fragment,{children:t.filter(e=>!!e.gradient).map((e,t)=>{if(!e.gradient)return null;let{colors:i,deg:r,stops:s}="string"==typeof e.gradient?n.gradient[e.gradient]:e.gradient,o="string"==typeof e.gradient?"gr-".concat(e.gradient):"gr-".concat(t);return(0,a.jsx)("linearGradient",{id:o,gradientTransform:"rotate(".concat(r+-90," 0.5 0.5)"),children:i.map((e,t)=>(0,a.jsx)("stop",{offset:"".concat(s[t],"%"),stopColor:e},e))},o)})})}},67111:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var a=n(85893),i=n(19521),r=n(67294),s=n(9008),o=n.n(s),l=n(7251),d=n(36470),c=n(64486),m=n(9700),p=n(66006),u=n(68461),h=n(29512),g=n(88968),x=n(10375);let y=i.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-1dtglgs-0"})(e=>{let{theme:t,$active:n}=e,a=n?t.color.main1:"".concat(t.color.base0,"20");return[{height:"0.75rem",width:"0.5rem"},(0,i.iv)(["background-color:",";"],a)]}),f=(0,r.memo)(e=>{let{decentralization:t}=e,n=e=>(e+1)*.3;return(0,a.jsx)(_,{children:(0,a.jsx)(v,{children:Array.from({length:3}).map((e,i)=>(0,a.jsx)(y,{$active:t>=n(i)},i))})})});f.displayName="DecentralizedCell";var _=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-11kg7ah-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),v=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-11kg7ah-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),j=n(47630);let w=(0,r.memo)(e=>{let{node:t}=e,n=new j.S,i=n.computeCRNRewards(t),s=(0,r.useMemo)(()=>!t.parent,[t]);return(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(l.u,{my:"top-center",at:"bottom-center",header:"CRN rewards",offset:{x:0,y:10},content:(0,a.jsx)("div",{className:"fs-sm",children:"Unlinked CRN do not get rewards"}),children:"-"}):(0,a.jsxs)(N,{children:[(0,a.jsxs)(C,{children:["~ ",i.toFixed(2)]}),(0,a.jsx)(l.TR,{text:"",color:"main0"})]})})});w.displayName="CRNRewardsCell";var N=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yja46l-0"})({display:"flex",alignItems:"center",gap:"0.5rem"}),C=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-yja46l-1"})({whiteSpace:"nowrap"});let b=(0,r.memo)(e=>{let{nodes:t,filteredNodes:n,lastVersion:i}=e,s=(0,r.useMemo)(()=>{let e=[{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,a.jsx)(g.Z,{score:e.score})},{label:"LINKED",sortable:!0,sortBy:e=>{var t;return null===(t=e.parentData)||void 0===t?void 0:t.name},render:e=>(0,a.jsx)(a.Fragment,{children:e.parentData?(0,a.jsx)(h.Z,{hash:e.parentData.hash,name:e.parentData.name,picture:e.parentData.picture}):"-"})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,a.jsx)(h.Z,{hash:e.hash,name:e.name,picture:e.picture})},{label:"DECENTRALIZED",sortable:!0,sortBy:e=>e.decentralization,render:e=>(0,a.jsx)(f,{decentralization:e.decentralization})},{label:"EST. REWARDS",align:"right",render:e=>(0,a.jsx)(w,{node:e})},{label:"VERSION",sortable:!0,sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>(0,a.jsx)(x.Z,{node:e,nodes:t,lastVersion:i})}];return e.map((t,n)=>(t.width=n===e.length-1?"100%":"".concat(80/e.length-1,"%"),t))},[i,t]);return(0,a.jsx)(u.Z,{columns:s,data:n})});b.displayName="ComputeResourceNodesTable";let S=(0,r.memo)(e=>{let{nodes:t,filteredNodes:n,filteredUserNodes:i,tabs:s,selectedTab:u,filter:h,lastVersion:g,handleTabChange:x,handleFilterChange:y}=function(e){let[{account:t,accountBalance:n=0}]=(0,d.mr)(),a=(0,r.useMemo)(()=>new c.B(t),[t]),{nodes:i,filteredNodes:s,...o}=function(e){let{nodes:t}=e,[{account:n,accountBalance:a=0}]=(0,d.mr)(),i=(0,r.useMemo)(()=>new c.B(n),[n]),s=(0,r.useCallback)(async()=>await i.getCRNNodes(),[i]),[o,p]=(0,r.useState)(Date.now()),u=(0,l.$P)(o,1e4),{data:h}=(0,m.Q)({doRequest:s,triggerOnMount:!0,triggerDeps:[u],onSuccess:()=>null}),g=(0,r.useCallback)(()=>i.getLatestCRNVersion(),[i]),{data:x}=(0,m.Q)({doRequest:g,triggerOnMount:!0,onSuccess:()=>null,onError:()=>null}),[y,f]=(0,r.useState)(""),_=(0,l.$P)(y,200),v=(0,r.useCallback)(e=>{let t=e.target.value;f(t)},[]),j=(0,r.useCallback)((e,t)=>t?e.filter(e=>{var n;return e.name.toLowerCase().includes(t.toLowerCase())||((null===(n=e.parentData)||void 0===n?void 0:n.name)||"").toLowerCase().includes(t.toLowerCase())}):e,[]),w=(0,r.useMemo)(()=>(t||h||[]).sort((e,t)=>t.score-e.score),[t,h]),N=(0,r.useMemo)(()=>j(w,_),[j,_,w]);return{account:n,accountBalance:a,nodes:w,filteredNodes:N,filter:y,lastVersion:x,handleFilterChange:v,setLastUpdate:p}}(e),p=(0,r.useCallback)(e=>e.filter(e=>a.isUserNode(e)),[a]),u=(0,r.useMemo)(()=>p(i),[p,i]),h=(0,r.useMemo)(()=>p(s),[p,s]),[g,x]=(0,r.useState)("user"),y=u.length?g:"nodes",f=(0,r.useMemo)(()=>{let e=[{id:"user",name:"My compute nodes",disabled:!u.length},{id:"nodes",name:"All compute nodes"}];return e},[u]);return{account:t,accountBalance:n,nodes:i,filteredNodes:s,userNodes:u,filteredUserNodes:h,selectedTab:y,tabs:f,...o,handleTabChange:x}}(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Aleph.im | Account"}),(0,a.jsx)("meta",{name:"description",content:"Aleph.im Account Dashboard"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)("section",{children:(0,a.jsx)(I,{className:"tp-h5",children:"Core nodes"})}),(0,a.jsx)("section",{children:(0,a.jsxs)(D,{children:[(0,a.jsx)(p.Z,{nodes:t,title:"COMPUTE RESOURCE NODES"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(Z,{className:"tp-h7",children:"What is a core node?"}),(0,a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum aliquam lectus non eros malesuada egestas eu vitae ipsum. Donec sed faucibus sapien. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aenean at scelerisque tortor."})]})]})}),(0,a.jsxs)(P,{children:[(0,a.jsxs)(E,{children:[(0,a.jsx)(l.mQ,{tabs:s,align:"left",selected:u,onTabChange:x}),(0,a.jsx)(l.oi,{value:h,name:"filter-ccn",placeholder:"Search me",onChange:y})]}),"user"===u?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b,{nodes:t,filteredNodes:i,lastVersion:g})}):(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)(b,{nodes:t,filteredNodes:n,lastVersion:g}):(0,a.jsx)(a.Fragment,{children:"Loading..."})})]})]})});S.displayName="ComputeResourceNodesPage";var I=(0,i.ZP)("h1").withConfig({displayName:"cmp___StyledH",componentId:"sc-1m9xt13-0"})({marginBottom:"2rem"}),D=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1m9xt13-1"})({display:"flex",alignItems:"stretch",gap:"2.25rem"}),Z=(0,i.ZP)("h1").withConfig({displayName:"cmp___StyledH2",componentId:"sc-1m9xt13-2"})({marginBottom:"0px"}),P=(0,i.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1m9xt13-3"})({marginTop:"3.5rem"}),E=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1m9xt13-4"})({marginBottom:"2rem",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),R=S}},function(e){e.O(0,[733,956,78,861,845,390,852,626,572,162,983,9,774,888,179],function(){return e(e.s=44628)}),_N_E=e.O()}]);