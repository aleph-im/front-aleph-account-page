(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265],{70805:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/crn/[hash]",function(){return t(87925)}])},39229:function(e,n,t){"use strict";t.d(n,{HC:function(){return d},ZP:function(){return m}});var i=t(85893),r=t(19521),a=t(67294),o=t(7251);let l=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-lib0cf-0"})([""," background-color:#00000033;border:1px solid #ffffff19;box-shadow:0px 4px 24px 0px rgba(135,157,202,0.12);backdrop-filter:blur(50px);"],{position:"relative",display:"flex",flexDirection:"column",gap:"1.5rem",borderRadius:"1rem",padding:"1.5rem"}),s=r.ZP.div.attrs((0,o.PT)("tp-info")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-lib0cf-1"})(["",""],{textTransform:"uppercase"}),d=(0,a.memo)(e=>{let{name:n,value:t,big:r=!1,...a}=e;return(0,i.jsxs)(u,{...a,children:[(0,i.jsx)(p,{className:"tp-body3 fs-10",children:n}),(0,i.jsx)(h,{className:"".concat(r?"tp-body3 fs-16":"tp-body fs-12"),children:t})]})});d.displayName="Card2Field";let c=(0,a.memo)(e=>{let{title:n,children:t,...r}=e;return(0,i.jsxs)(l,{...r,children:[(0,i.jsx)(s,{children:n}),t]})});c.displayName="Card2";var m=c,u=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-cjcrrw-0"})({display:"flex",alignItems:"center"}),p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-cjcrrw-1"})({marginRight:"1rem",whiteSpace:"nowrap",textTransform:"uppercase",opacity:"0.6"}),h=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-cjcrrw-2"})({marginLeft:"auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})},91077:function(e,n,t){"use strict";t.d(n,{Z:function(){return i.ZP}});var i=t(39229)},68732:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(19521);let r=i.ZP.div.withConfig({displayName:"styles__StyledLayout",componentId:"sc-y3kd5x-0"})([""," & > *{","}"],{columns:"20rem",gap:"2.25rem"},{marginBottom:"2.25rem",display:"flex",breakInside:"avoid",flexDirection:"column",gap:"2.25rem"});var a=r},33378:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(85893),r=t(19521),a=t(67294);let o=r.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-1w2vi58-0"})(e=>{let{theme:n,$active:t}=e,i=t?n.color.main1:"".concat(n.color.base0,"20");return[{height:"0.75rem",width:"0.5rem"},(0,r.iv)(["background-color:",";"],i)]}),l=(0,a.memo)(e=>{let{decentralization:n}=e,t=e=>(e+1)*.3;return(0,i.jsx)(d,{children:(0,i.jsx)(c,{children:Array.from({length:3},(e,r)=>(0,i.jsx)(o,{$active:n>=t(r)},r))})})});l.displayName="NodeDecentralization";var s=l,d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-sktw9k-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),c=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-sktw9k-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"})},48335:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(85893),r=t(67294),a=t(7251),o=t(19521),l=t(19124);let s=o.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-ysmt7e-0"})(["",""],e=>{let{$backgroundUrl:n,theme:t}=e,[i,r]=t.gradient.main0.colors;return(0,o.iv)([""," background-image:url(","),linear-gradient(90deg,","33 0%,","33 100%);background-position:center center;background-size:cover;&::after{content:'';","}"],{display:"flex",height:"12.5rem",flexDirection:"column",justifyContent:"flex-end"},n,i,r,{})}),d=o.ZP.h1.attrs((0,a.PT)("tp-h5")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-ysmt7e-1"})(["",";"],e=>{let{theme:n}=e;return(0,o.iv)([""," color:",";background-color:","E5;"],{margin:"0px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.125rem",paddingBottom:"0.125rem"},n.color.text,n.color.base1)}),c=o.ZP.h2.attrs((0,a.PT)("tp-body3")).withConfig({displayName:"styles__StyledDescription",componentId:"sc-ysmt7e-2"})(["",";"],e=>{let{theme:n}=e;return(0,o.iv)([""," color:",";"],{margin:"0px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},n.color.text)}),m=(0,o.ZP)(l.Z).attrs(e=>({size:"lg",...e})).withConfig({displayName:"styles__StyledNodeAvatar",componentId:"sc-ysmt7e-3"})(["",""],{marginLeft:"1.5rem",marginRight:"1.5rem",marginTop:"1rem",marginBottom:"1rem"});var u=t(33358),p=t(11163);let h=(0,r.memo)(e=>{let{node:n,...t}=e,a=function(){let{basePath:e}=(0,p.useRouter)();return e}(),o=(0,r.useMemo)(()=>{if(null==n?void 0:n.banner)return"".concat(u.pf,"/api/v0/storage/raw/").concat(null==n?void 0:n.banner);let e=(null==a?void 0:a.charAt(0))==="/"?a:"";return"".concat(e,"/img/bg1.png")},[a,n]);return(0,i.jsxs)("div",{...t,children:[(0,i.jsxs)(s,{$backgroundUrl:o,...t,children:[(0,i.jsx)(m,{picture:null==n?void 0:n.picture}),(0,i.jsx)(d,{children:(null==n?void 0:n.name)||(null==n?void 0:n.hash)})]}),(null==n?void 0:n.description)&&(0,i.jsx)(c,{children:null==n?void 0:n.description})]})});h.displayName="NodeDetailHeader";var v=h},8978:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(85893),r=t(19521),a=t(67294),o=t(63608);let l=(0,r.ZP)(o.Z).attrs(e=>{let{$status:n,...t}=e;return{$color:"active"===n||"linked"===n?"main1":"main2",...t}}).withConfig({displayName:"styles__StyledStatusIcon",componentId:"sc-1qd83xw-0"})([""]),s=(0,a.memo)(e=>{let{status:n,...t}=e;return(0,i.jsxs)(d,{...t,children:[(0,i.jsx)(l,{$status:n}),(0,i.jsx)(c,{className:"tp-body3",children:n})]})});s.displayName="NodeStatus";var d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-b7ni1q-0"})({display:"flex",alignItems:"center",gap:"0.375rem",paddingTop:"0.375rem"}),c=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-b7ni1q-1"})({textTransform:"capitalize"});let m=(0,a.memo)(e=>{let{status:n,...t}=e;return(0,i.jsxs)(p,{...t,children:[(0,i.jsx)("div",{className:"tp-body fs-10",children:"STATUS"}),(0,i.jsx)(s,{status:n||"waiting"})]})});m.displayName="NodeDetailStatus";var u=m,p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-jhruyg-0"})({backgroundColor:"#00000033",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.375rem",paddingBottom:"0.375rem"})},15457:function(e,n,t){"use strict";t.d(n,{_:function(){return s}});var i=t(67294),r=t(11163),a=t(7251),o=t(48107),l=t(94461);function s(e){var n;let{node:t,nodes:s}=e,d=(0,r.useRouter)(),c=(0,a.lm)(),[m]=(0,l.mr)(),{account:u}=m.account,p=(0,i.useMemo)(()=>new o.B(u),[u]),h=(0,i.useCallback)(async()=>{if(t){if(!c)throw Error("Notification not ready");try{let e=null==t?void 0:t.hash;await p.removeNode(e),c.add({variant:"success",title:"Success",text:'Your node "'.concat(t.hash,'" was deleted successfully.')}),d.replace(".")}catch(e){null==c||c.add({variant:"error",title:"Error",text:e.message})}}},[t,p,c,d]),{nodes_with_identical_asn:v}=(null==t?void 0:null===(n=t.scoreData)||void 0===n?void 0:n.measurements)||{},{base_latency:f,measured_at:g}=(null==t?void 0:t.metricsData)||{},x=(0,i.useMemo)(()=>f?"".concat(Number(100*(f||0)).toFixed(2)," %"):void 0,[f]),y=(0,i.useMemo)(()=>{if(!g)return;let e=new Date(1e3*g);return"".concat(e.toLocaleDateString()," (").concat(e.toLocaleTimeString(),")")},[g]),_=(0,i.useMemo)(()=>{if(!t)return;let e=new Date((null==t?void 0:t.time)*1e3);return"".concat(e.toLocaleDateString())},[t]),j=(0,i.useMemo)(()=>(null==t?void 0:t.owner)===(null==u?void 0:u.address),[u,t]);return{node:t,nodesOnSameASN:v,baseLatency:x,lastMetricsCheck:y,creationDate:_,isOwner:j,handleRemove:h}}},58193:function(e,n,t){"use strict";t.d(n,{h:function(){return o}});var i=t(94461),r=t(67294),a=t(69797);function o(e){let{nodes:n}=e,[t]=(0,i.mr)(),{entities:o}=t.ccns,{userNodes:l}=(0,a.M)({nodes:n||o}),s=(0,r.useMemo)(()=>null==l?void 0:l[0],[l]);return{userNode:s}}},87925:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var i=t(85893),r=t(19521),a=t(67294),o=t(9008),l=t.n(o),s=t(48335),d=t(94461),c=t(48107),m=t(11163),u=t(94527),p=t(15457),h=t(58193),v=t(91077),f=t(39229),g=t(68732),x=t(7251),y=t(34853),_=t(8978),j=t(41664),w=t.n(j),N=t(71806),C=t(33378);let S=()=>{var e,n,t;let{node:r,nodesOnSameASN:o,baseLatency:j,lastMetricsCheck:N,calculatedRewards:S,isUserLinked:b,isLinkable:H,creationDate:M,handleRemove:z,handleLink:B,handleUnlink:F}=function(){let e=(0,m.useRouter)(),{hash:n}=e.query,[t]=(0,d.mr)(),{account:i}=t.account,{entities:r}=t.crns,{node:o}=function(e){let{hash:n}=e,[t]=(0,d.mr)(),{entities:i}=t.crns,r=(0,a.useMemo)(()=>{if(i)return i.filter(e=>e.hash===n)},[i,n]),[o]=r||[];return{node:o}}({hash:n}),{userNode:l}=(0,h.h)({}),s=(0,a.useMemo)(()=>new c.B(i),[i]);s.isUserLinked;let{calculatedRewards:v}=(0,u.Ht)({address:(null==o?void 0:o.reward)||""}),f=(0,p._)({node:o,nodes:r}),g=(0,a.useMemo)(()=>{if(o)return s.isUserLinked(o,l)},[o,s,l]),x=(0,a.useMemo)(()=>{if(o)return s.isLinkable(o,l)[0]},[o,s,l]),y=(0,a.useCallback)(async()=>{if(!o||s.isUserLinked(o,l))return;let{hash:e}=o;await s.linkComputeResourceNode(e)},[o,s,l]),_=(0,a.useCallback)(async()=>{if(!o||!s.isUserLinked(o,l))return;let{hash:e}=o;await s.unlinkComputeResourceNode(e)},[o,s,l]);return{nodes:r,node:o,userNode:l,calculatedRewards:v,isUserLinked:g,isLinkable:x,handleLink:y,handleUnlink:_,...f}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Aleph.im | CRN Detail"}),(0,i.jsx)("meta",{name:"description",content:"Aleph.im Compute Resource Node"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("section",{children:(0,i.jsx)(s.Z,{node:r})}),(0,i.jsxs)(k,{children:[(0,i.jsxs)(g.Z,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)(v.Z,{title:"GENERAL INFO",children:[(0,i.jsx)(_.Z,{status:null==r?void 0:r.status}),(0,i.jsx)(f.HC,{name:"NAME",value:null==r?void 0:r.name}),(0,i.jsx)(f.HC,{name:"OWNER",value:(0,i.jsx)(w(),{href:(0,y.tz)({address:null==r?void 0:r.owner}),target:"_blank",children:(0,y.zN)((null==r?void 0:r.owner)||"")}),big:!0}),(0,i.jsx)(f.HC,{name:"REWARD ADDRESS",value:(0,i.jsx)(w(),{href:(0,y.tz)({tokenAddress:null==r?void 0:r.reward}),target:"_blank",children:(0,y.zN)((null==r?void 0:r.reward)||"")}),big:!0}),(0,i.jsx)(f.HC,{name:"ADDRESS",value:(0,i.jsx)(w(),{href:(null==r?void 0:r.address)||"#",target:"_blank",children:null==r?void 0:r.address}),big:!0})]})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(v.Z,{title:"REWARD INDICATORS",children:[(0,i.jsx)(f.HC,{name:"ASN",value:null==r?void 0:null===(e=r.metricsData)||void 0===e?void 0:e.as_name}),(0,i.jsx)(f.HC,{name:"NODES ON ASN",value:o}),(0,i.jsx)(f.HC,{name:"VERSION",value:null==r?void 0:null===(n=r.metricsData)||void 0===n?void 0:n.version}),(0,i.jsx)(f.HC,{name:"BASE LATENCY",value:j}),(0,i.jsx)(f.HC,{name:"LAST CHECK",value:N})]}),(0,i.jsx)(v.Z,{title:"POTENTIAL REWARD",children:(0,i.jsx)(f.HC,{name:"ESTIMATED MONTHLY REWARD",value:(0,i.jsxs)(D,{children:[(0,i.jsx)(I,{children:null==S?void 0:S.toFixed(5)}),(0,i.jsx)(x.TR,{text:"",color:"main0"})]})})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,{title:"LINKED CORE NODE",children:(null==r?void 0:r.parentData)?(0,i.jsxs)(T,{children:[(0,i.jsx)(w(),{href:"/earn/ccn/".concat(r.parentData.hash),legacyBehavior:!0,children:(0,i.jsx)(A,{hash:r.parentData.hash,name:r.parentData.name,picture:r.parentData.picture})}),b?(0,i.jsx)("button",{onClick:F,children:(0,i.jsx)(x.JO,{name:"trash",color:"error"})}):(0,i.jsx)(i.Fragment,{})]}):(0,i.jsxs)(Z,{children:[(0,i.jsx)(E,{}),(0,i.jsx)(P,{className:"fs-10",children:!b&&H?(0,i.jsx)(x.zx,{color:"main2",size:"regular",kind:"neon",variant:"text-only",onClick:B,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(R,{name:"link"})," link now"]})}):(0,i.jsx)(i.Fragment,{children:"not linked"})})]})})}),(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,{title:"DECENTRALIZED SCORE",children:(0,i.jsx)(C.Z,{decentralization:(null==r?void 0:null===(t=r.scoreData)||void 0===t?void 0:t.decentralization)||0})})}),(0,i.jsx)("div",{children:(0,i.jsxs)(v.Z,{title:"PERFORMANCE",children:[(0,i.jsx)(f.HC,{name:"AVERAGE RESPONSE",value:"?????"}),(0,i.jsx)(f.HC,{name:"RESPONSIVENESS",value:"?????"}),(0,i.jsx)(f.HC,{name:"TIME LEFT",value:"?????"}),(0,i.jsx)(f.HC,{name:"UPTIME",value:"?????"}),(0,i.jsx)(f.HC,{name:"CREATION TIME",value:M})]})})]}),(0,i.jsx)(O,{children:(0,i.jsxs)(x.zx,{kind:"flat",variant:"secondary",size:"regular",color:"error",onClick:z,children:[(0,i.jsx)(L,{name:"trash",color:"error",size:"lg"}),"remove node"]})})]})]})};S.displayName="ComputeResourceNodeDetailPage";var b=(0,a.memo)(S),k=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-b9jk28-0"})({marginTop:"2rem"}),D=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-b9jk28-1"})({display:"inline-flex",alignItems:"center",gap:"0.5rem"}),I=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-b9jk28-2"})({whiteSpace:"nowrap"}),Z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-b9jk28-3"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),E=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-b9jk28-4"})({height:"1.5rem",width:"1.5rem",borderRadius:"9999px",backgroundColor:"#C4C4C433"}),P=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-b9jk28-5"})({lineHeight:"1rem"}),R=(0,r.ZP)(x.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-b9jk28-6"})({height:"0.875rem",width:"0.875rem"}),T=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-b9jk28-7"})({display:"flex",alignItems:"center"}),A=(0,r.ZP)(N.Z).withConfig({displayName:"cmp___StyledNodeName",componentId:"sc-b9jk28-8"})({marginRight:"auto",width:"auto",cursor:"pointer"}),O=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-b9jk28-9"})({marginTop:"2.25rem"}),L=(0,r.ZP)(x.JO).withConfig({displayName:"cmp___StyledIcon2",componentId:"sc-b9jk28-10"})({height:"1rem",width:"1rem"}),H=b}},function(e){e.O(0,[959,363,774,888,179],function(){return e(e.s=70805)}),_N_E=e.O()}]);