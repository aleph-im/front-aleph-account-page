(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{88459:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(85893),r=a(67294),i=a(7251),s=a(19521);let o=s.ZP.div.attrs((0,i.PT)("fx-dark-main0")).withConfig({displayName:"styles__StyledContainer",componentId:"sc-1hw364q-0"})(["",""],{borderRadius:"1.5rem",backgroundColor:"transparent !important",padding:"1.5rem"}),c=(0,r.memo)(e=>{let{children:t,...a}=e;return(0,n.jsx)(o,{...a,children:t})});c.displayName="Card1";var l=c},63608:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(19521);let r=n.ZP.div.withConfig({displayName:"styles__StyledDot",componentId:"sc-1dj2jnl-0"})(e=>{var t;let{theme:a,$color:r="main0",$gradient:i,$size:s="1rem"}=e,o=i?null===(t=a.gradient[i])||void 0===t?void 0:t.fn:void 0,c=o||a.color[r]||r;return[{flexShrink:"0",borderRadius:"9999px"},(0,n.iv)(["background:",";width:",";height:",";"],c,s,s)]});var i=r},29512:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(85893),r=a(19521),i=a(67294),s=a(25675),o=a.n(s),c=a(7251),l=a(33358);let d=(0,i.memo)(e=>{let{hash:t,name:a,picture:r,locked:i}=e;return(0,n.jsxs)(h,{children:[r?(0,n.jsx)(p,{src:"".concat(l.pf,"/api/v0/storage/raw/").concat(r),alt:"Node profile image",width:24,height:24}):(0,n.jsx)(v,{name:"circle-nodes",size:"xl"}),(0,n.jsxs)(m,{className:"fs-xs",children:[(0,n.jsxs)(g,{children:["ID: ",t.slice(-10)]}),(0,n.jsxs)(f,{children:[i&&(0,n.jsx)(c.u,{my:"top-center",at:"bottom-center",content:"No staker can join this node.",header:"Staking locked",children:(0,n.jsx)(c.JO,{name:"lock",size:"xs"})}),a.substring(0,30)]})]})]})});d.displayName="NameCell";var u=d,h=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-vt9uzz-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),p=(0,r.ZP)(o()).withConfig({displayName:"cmp___StyledImage",componentId:"sc-vt9uzz-1"})({height:"1.5rem",width:"1.5rem",borderRadius:"9999px"}),v=(0,r.ZP)(c.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-vt9uzz-2"})({borderRadius:"9999px"}),m=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-vt9uzz-3"})({lineHeight:"1rem"}),g=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-vt9uzz-4"})({whiteSpace:"nowrap"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-vt9uzz-5"})({display:"flex",alignItems:"center",gap:"0.25rem"})},68461:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(7251),r=a(19521);let i=(0,r.ZP)(n.iA).attrs(e=>({borderType:"solid",oddRowNoise:!0,...e})).withConfig({displayName:"styles__StyledTable",componentId:"sc-gp6li6-0"})(["thead th{font-size:0.8125rem;","}td,th{padding:0.75rem 1rem;width:0;}tr,td{border:none;}"],{whiteSpace:"nowrap"});var s=i},88968:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(85893),r=a(19521),i=a(67294),s=a(63608);let o=(0,r.ZP)(s.Z).attrs(e=>{let{$score:t,...a}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...a}}).withConfig({displayName:"styles__StyledScoreIcon",componentId:"sc-347ktn-0"})([""]),c=(0,i.memo)(e=>{let{score:t}=e,a=Number(100*t).toFixed(2);return(0,n.jsxs)(d,{children:[(0,n.jsx)(o,{$score:t}),a,"%"]})});c.displayName="ScoreCell";var l=c,d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-gpthn5-0"})({display:"flex",alignItems:"center",gap:"0.75rem"})},64486:function(e,t,a){"use strict";a.d(t,{B:function(){return o}});var n=a(33358),r=a(8395),i=a(34853);let{post:s}=r.messages;class o{async getCCNNodes(){var e,t,a,n;let r=await fetch("https://api2.aleph.im/api/v0/aggregates/0xa1B3bb7d2332383D96b7796B908fB7f7F3c2Be10.json?keys=corechannel&limit=100"),i=await r.json(),s=null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(t=e.corechannel)||void 0===t?void 0:t.resource_nodes,o=null==i?void 0:null===(a=i.data)||void 0===a?void 0:null===(n=a.corechannel)||void 0===n?void 0:n.nodes;return o=this.parseResourceNodes(o,s),o=await this.parseScores(o,!1),console.log(o=await this.parseMetrics(o,!1)),o}async getCRNNodes(){var e,t,a,n;let r=await fetch("https://api2.aleph.im/api/v0/aggregates/0xa1B3bb7d2332383D96b7796B908fB7f7F3c2Be10.json?keys=corechannel&limit=100"),i=await r.json(),s=null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(t=e.corechannel)||void 0===t?void 0:t.nodes,o=null==i?void 0:null===(a=i.data)||void 0===a?void 0:null===(n=a.corechannel)||void 0===n?void 0:n.resource_nodes;return o=this.parseParentNodes(o,s),o=await this.parseScores(o,!0),console.log(o=await this.parseMetrics(o,!0)),o}async getLatestVersion(e){return this.isCRN(e)?this.getLatestCRNVersion():this.getLatestCCNVersion()}async getLatestCCNVersion(){let e=await (0,i.vM)("https://api.github.com/repos/aleph-im/pyaleph/releases","ccn_versions",3e5);return(0,i.dU)(e)}async getLatestCRNVersion(){let e=await (0,i.vM)("https://api.github.com/repos/aleph-im/aleph-vm/releases","crn_versions",3e5);return(0,i.dU)(e)}isCRN(e){return Object.hasOwn(e,"parent")}isKYCRequired(e){return void 0!==e.registration_url&&""!==e.registration_url}isKYCCleared(e){var t;return!!this.account&&(null===(t=e.authorized)||void 0===t?void 0:t.includes(this.account.address))}isLocked(e){return!!e.locked&&!(this.isKYCRequired(e)&&this.isKYCCleared(e))}isUserNode(e){return!!this.account&&this.account.address===e.owner}isUserStake(e){return!!this.account&&void 0!==e.stakers[this.account.address]}isStakeable(e,t,a){return this.account?t<1e4?[!1,"You need at least 10000 ALEPH to stake"]:e.total_staked>=75e4?[!1,"Too many ALEPH staked on that node"]:this.isLocked(e)?[!1,"This node is locked"]:this.isUserNode(e)?[!1,"You can't stake while you operate a node"]:a.length?[!0,"Add this node to your staking (each node will have an equal part of your total balance staked)"]:[!0,"Stake ".concat(t.toFixed(2)," ALEPH in this node")]:[!1,"Please login"]}isNodeExperimental(e,t){var a,n;let r=(0,i.Jm)((null===(a=e.metricsData)||void 0===a?void 0:a.version)||"");return r!==(null===(n=e.metricsData)||void 0===n?void 0:n.version)&&r===t.prerelease}isNodeLatest(e,t){var a;return(null===(a=e.metricsData)||void 0===a?void 0:a.version)===t.latest}isNodePrerelease(e,t){var a;return(null===(a=e.metricsData)||void 0===a?void 0:a.version)===t.prerelease}isNodeUptodate(e,t){return this.isNodeLatest(e,t)||this.isNodePrerelease(e,t)||this.isNodeExperimental(e,t)}isNodeOutdated(e,t){var a;return t.outdated===(null===(a=e.metricsData)||void 0===a?void 0:a.version)}parseResourceNodes(e,t){let a=t.reduce((e,t)=>{let a=e[t.parent]=e[t.parent]||[];return a.push(t),e},{});return e.map(e=>{let t=a[e.hash]||[];return t?{...e,crnsData:t}:e})}parseParentNodes(e,t){let a=t.reduce((e,t)=>(e[t.hash]=t,e),{});return e.map(e=>{let t=a[e.parent]||[];return t?{...e,parentData:t}:e})}async parseScores(e,t){let a=t?await this.getCRNScores():await this.getCCNScores(),n=new Map(a.map(e=>[e.node_id,e]));return e.map(e=>{let t=n.get(e.hash);return t?{...e,score:t.total_score,decentralization:t.decentralization,performance:t.performance,version:t.version,scoreData:t}:e})}async parseMetrics(e,t){let a=t?await this.getCRNMetrics():await this.getCCNMetrics(),n=new Map(a.map(e=>[e.node_id,e]));return e.map(e=>{let t=n.get(e.hash);return t?{...e,metricsData:t}:e})}async getScores(){var e,t;let a=await s.Get({types:"aleph-scoring-scores",addresses:[n.id],pagination:1,page:1});return console.log(a),null===(e=null===(t=a.posts[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.scores}async getMetrics(){var e,t;let a=await s.Get({types:"aleph-network-metrics",addresses:[n.id],pagination:1,page:1});return console.log(a),null===(e=null===(t=a.posts[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.metrics}async getCCNScores(){let e=await this.getScores();return e.ccn}async getCCNMetrics(){let e=await this.getMetrics();return e.ccn}async getCRNScores(){let e=await this.getScores();return e.crn}async getCRNMetrics(){let e=await this.getMetrics();return e.crn}constructor(e,t=n.Nr){this.account=e,this.channel=t}}},47630:function(e,t,a){"use strict";a.d(t,{S:function(){return o}});var n=a(33358),r=a(34853),i=a(67572),s=a(57492);class o{async stake(e){if(!this.account)throw Error("Invalid account");await i.post.Publish({account:this.account,postType:"corechan-operation",storageEngine:s.ItemType.inline,ref:e,APIServer:n.pf,channel:"FOUNDATION",content:{tags:["stake-split","mainnet"],action:"stake-split"}})}async unStake(e){if(!this.account)throw Error("Invalid account");await i.post.Publish({account:this.account,postType:"corechan-operation",storageEngine:s.ItemType.inline,ref:e,APIServer:n.pf,channel:"FOUNDATION",content:{tags:["unstake","mainnet"],action:"unstake"}})}isCRN(e){return Object.hasOwn(e,"parent")}activeNodes(e){return e.filter(e=>this.isCRN(e)?"linked"===e.status:"active"===e.status)}totalStaked(e){return e.reduce((e,t)=>e+t.total_staked,0)}totalStakedByOperators(e){return 2e5*e.length}totalStakedInActive(e){return this.totalStaked(this.activeNodes(e))}totalPerDay(e){let t=this.activeNodes(e).length;return t?15e3*((Math.log10(t)+1)/3):t}totalPerAlephPerDay(e){let t=this.totalStakedInActive(e);return t?this.totalPerDay(e)/t:0}currentAPY(e){return(1+this.totalPerAlephPerDay(e))**365-1}computeEstimatedStakersAPY(e,t){let a=0;if(e.score){let n=Math.min(e.crnsData.filter(e=>e.score>=.2).length,3),i=(0,r._1)(e.score,.2,.8,0,1);a=this.currentAPY(t)*i*(1-(3-n)/10)}return a}computeCCNRewards(e,t){let a=0;if(e.score){let n=Math.min(e.crnsData.length,3),i=this.activeNodes(t).length,s=(0,r._1)(e.score,.2,.8,0,1);a=15e3/i*s*(1-(3-n)/10)}return a}computeCRNRewards(e){if(!e.parent||!e.score||!e.decentralization)return 0;let{decentralization:t,score:a}=e;return(500+2500*t)*(0,r._1)(a,.2,.8,0,1)}constructor(e,t=n.Nr){this.account=e,this.channel=t}}},9700:function(e,t,a){"use strict";a.d(t,{Q:function(){return i}});var n=a(67294),r=a(7251);function i(e){let{doRequest:t,triggerOnMount:a,triggerDeps:i=[],...s}=e,[o,{onLoad:c,onSuccess:l,onError:d}]=function(){let{onSuccess:e,onError:t,onLoad:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,r.lm)(),[s,o]=(0,n.useState)({data:null,loading:!1,error:null}),c=(0,n.useCallback)(t=>{function a(){i&&i.add({variant:"success",title:"Operation complete"})}return o({data:t,loading:!1,error:null}),e?e(t,a):a()},[i,e]),l=(0,n.useCallback)(e=>{function a(e){var t;let a=e.message,n=null===(t=null==e?void 0:e.cause)||void 0===t?void 0:t.message;i&&i.add({variant:"error",title:"Error",text:a,detail:n})}return o({data:null,loading:!1,error:e}),t?t(e,a):a(e)},[t,i]),d=(0,n.useCallback)(()=>{o({data:null,loading:!0,error:null}),a&&a()},[a]);return[s,{onSuccess:c,onError:l,onLoad:d}]}(s),u=(0,n.useCallback)(async()=>{c();try{let e=await t();l(e);return}catch(e){d(e)}},[t,c,l,d]);return(0,n.useEffect)(()=>{a&&u()},i),{...o,request:u}}},70573:function(){},35883:function(){},78486:function(){},42480:function(){},75992:function(){},78110:function(){},28325:function(){},33370:function(){}}]);