"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{39229:function(e,t,n){n.d(t,{HC:function(){return d},ZP:function(){return u}});var i=n(85893),r=n(19521),o=n(67294),a=n(7251);let l=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-lib0cf-0"})([""," background-color:#00000033;border:1px solid #ffffff19;box-shadow:0px 4px 24px 0px rgba(135,157,202,0.12);backdrop-filter:blur(50px);"],{position:"relative",display:"flex",flexDirection:"column",gap:"1.5rem",borderRadius:"1rem",padding:"1.5rem"}),s=r.ZP.div.attrs((0,a.PT)("tp-info")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-lib0cf-1"})(["",""],{textTransform:"uppercase"}),d=(0,o.memo)(e=>{let{name:t,value:n,big:r=!1,...o}=e;return(0,i.jsxs)(m,{...o,children:[(0,i.jsx)(p,{className:"tp-body3 fs-10",children:t}),(0,i.jsx)(f,{className:"".concat(r?"tp-body3 fs-16":"tp-body fs-12"),children:n})]})});d.displayName="Card2Field";let c=(0,o.memo)(e=>{let{title:t,children:n,...r}=e;return(0,i.jsxs)(l,{...r,children:[(0,i.jsx)(s,{children:t}),n]})});c.displayName="Card2";var u=c,m=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-cjcrrw-0"})({display:"flex",alignItems:"center"}),p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-cjcrrw-1"})({marginRight:"1rem",whiteSpace:"nowrap",textTransform:"uppercase",opacity:"0.6"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-cjcrrw-2"})({marginLeft:"auto",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})},91077:function(e,t,n){n.d(t,{Z:function(){return i.ZP}});var i=n(39229)},68732:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(19521);let r=i.ZP.div.withConfig({displayName:"styles__StyledLayout",componentId:"sc-y3kd5x-0"})([""," & > *{","}"],{columns:"20rem",gap:"2.25rem"},{marginBottom:"2.25rem",display:"flex",breakInside:"avoid",flexDirection:"column",gap:"2.25rem"});var o=r},77849:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(85893),r=n(19521),o=n(67294),a=n(7251);let l=(0,o.memo)(e=>{let{children:t,isOwner:n,value:r,onChange:a,onBlur:l,onKeyDown:s,...p}=e,[f,g]=(0,o.useState)(),y=(0,o.useRef)(null),h=(0,o.useCallback)(()=>{g(e=>e||!e)},[]),v=(0,o.useCallback)(e=>{g(!1),l&&l(e)},[l]),x=(0,o.useCallback)(e=>{["Escape","Enter","NumpadEnter"].includes(e.code)&&(g(!1),s&&s(e))},[s]),w=(0,o.useCallback)(e=>{var t;let n=null===(t=e.currentTarget)||void 0===t?void 0:t.textContent;a&&a(n)},[a]);return(0,o.useEffect)(()=>{y.current&&(y.current.textContent=r?r+"":null)},[r,f]),(0,o.useEffect)(()=>{y.current&&(y.current.focus(),function(e){if(!document.createRange)return;let t=document.createRange();t.selectNodeContents(e),t.collapse(!1);let n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(t)}(y.current),y.current.scrollLeft=y.current.scrollWidth)},[f]),(0,i.jsxs)(d,{...p,children:[f?(0,i.jsx)(c,{ref:y,type:"text",disabled:!n,contentEditable:!0,onInput:w,onBlur:v,onKeyDown:x,suppressContentEditableWarning:!0,...p}):(0,i.jsx)(i.Fragment,{children:t||r||"NONE"}),n&&(0,i.jsx)(u,{$_css:[{display:"flex",justifyContent:"flex-end"},{width:"1.75rem",maxWidth:f?"0":"1.75rem",transition:"max-width ease-in-out 0.25s 0s",overflow:"hidden"}],children:(0,i.jsx)(m,{name:"edit",onClick:h})})]})});l.displayName="NodeDetailEditableField";var s=l,d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-g2fwm8-0"})({display:"flex",alignItems:"baseline",overflow:"hidden"}),c=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-g2fwm8-1"})({minWidth:"1px",overflow:"hidden",borderStyle:"none",outline:"2px solid transparent",outlineOffset:"2px"}),u=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-g2fwm8-2"})(["",""],e=>e.$_css),m=(0,r.ZP)(a.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-g2fwm8-3"})({height:"1rem",width:"1rem",cursor:"pointer"})},1218:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(85893),r=n(67294),o=n(7251),a=n(19521),l=n(19124);let s=a.ZP.input.withConfig({displayName:"styles__StyledHiddenFileInput",componentId:"sc-11emaos-0"})(["display:none;"]),d=(0,r.memo)((0,r.forwardRef)((e,t)=>{let{value:n,onChange:a,accept:l,children:d,error:c,label:u,resetValue:m="",...p}=e,f=(0,r.useRef)(null),g=(0,r.useCallback)(()=>{if(f.current){if(void 0!==m&&n&&n!==m){f.current.value="",a(m);return}f.current.click()}},[a,m,n]),y=(0,r.useCallback)(e=>{let t=e.target,{files:n}=t;if(n){let e=n[0];a(e)}},[a]);return(0,i.jsxs)("div",{tabIndex:-1,ref:t,onClick:g,...p,children:[u&&(0,i.jsx)(o.lX,{label:u,error:c,required:!0}),d,c&&(0,i.jsx)(o.Xq,{error:c}),(0,i.jsx)(s,{type:"file",ref:f,onChange:y,accept:l})]})}));d.displayName="HiddenFileInput";let c=(0,a.ZP)(d).attrs(e=>({accept:"*.png,*.jpg,*.jpeg,*.svg",...e})).withConfig({displayName:"styles__StyledBackgroundEditInput",componentId:"sc-ysmt7e-0"})(["",";"],e=>{let{theme:t}=e;return(0,a.iv)([""," transition:all ease-in-out 0.25s 0s;background-color:","66;border-bottom-left-radius:100%;"],{position:"absolute",right:"-1rem",top:"-1rem",display:"flex",height:"3.5rem",width:"5rem",cursor:"pointer",alignItems:"center",justifyContent:"center",paddingBottom:"1.25rem",paddingLeft:"1.5rem",opacity:"0"},t.color.base1)}),u=a.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-ysmt7e-1"})(["",""],e=>{let{$backgroundUrl:t,$hash:n,theme:i}=e,r=Object.keys(i.gradient),o=(n||"").split("").reduce((e,t)=>t.charCodeAt(0)+e,0)%r.length,[l,s]=i.gradient[r[o]].colors,d=t?"url(".concat(t,")"):"linear-gradient(90deg, ".concat(l,"cc 0%, ").concat(s,"cc 100%)");return(0,a.iv)([""," background-image:",";background-position:center center;background-size:cover;&:hover > ","{","}"],{position:"relative",display:"flex",height:"12.5rem",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden"},d,c,{right:"0px",top:"0px",opacity:"1"})}),m=a.ZP.h1.attrs((0,o.PT)("tp-h5")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-ysmt7e-2"})(["",";"],e=>{let{theme:t}=e;return(0,a.iv)([""," color:",";background-color:","E5;"],{margin:"0px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.125rem",paddingBottom:"0.125rem"},t.color.text,t.color.base1)}),p=a.ZP.h2.attrs((0,o.PT)("tp-body3")).withConfig({displayName:"styles__StyledDescription",componentId:"sc-ysmt7e-3"})(["",";"],e=>{let{theme:t}=e;return(0,a.iv)([""," color:",";"],{margin:"0px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},t.color.text)}),f=(0,a.ZP)(d).attrs(e=>({accept:"*.png,*.jpg,*.jpeg,*.svg",...e})).withConfig({displayName:"styles__StyledNodeAvatarEditInput",componentId:"sc-ysmt7e-4"})(["",";"],e=>{let{theme:t}=e;return(0,a.iv)([""," transition:all ease-in-out 0.25s 0s;background-color:","66;border-radius:50%;"],{position:"absolute",inset:"0px",display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",opacity:"0"},t.color.base1)}),g=a.ZP.div.withConfig({displayName:"styles__StyledNodeAvatarContainer",componentId:"sc-ysmt7e-5"})([""," &:hover > ","{","}"],{position:"relative",marginLeft:"1.5rem",marginRight:"1.5rem",marginTop:"1rem",marginBottom:"1rem",display:"inline-flex",overflow:"hidden"},f,{opacity:"1"}),y=(0,a.ZP)(l.Z).attrs(e=>({size:"lg",...e})).withConfig({displayName:"styles__StyledNodeAvatar",componentId:"sc-ysmt7e-6"})([""]);var h=n(77849),v=n(33358),x=n(34853);function w(e){let{file:t}=e,[n,i]=(0,r.useState)();return(0,r.useEffect)(()=>{(async function(){let e;if(!t){i(void 0);return}t instanceof File&&(e=await (0,x.s5)(t)),"string"==typeof t&&((e=new Image).src="".concat(v.pf,"/api/v0/storage/raw/").concat(t)),e&&i(e)})()},[t]),{img:n}}let _=(0,r.memo)(e=>{let{nameCtrl:t,descriptionCtrl:n,bannerCtrl:r,pictureCtrl:a,isOwner:l,node:s,...d}=e,v=t.field.value,x=n.field.value,{img:_}=w({file:a.field.value}),{img:b}=w({file:r.field.value});return(0,i.jsxs)("div",{...d,children:[(0,i.jsxs)(u,{$hash:null==s?void 0:s.hash,$backgroundUrl:null==b?void 0:b.src,...d,children:[l&&(0,i.jsx)(c,{...r.field,...r.fieldState,resetValue:null==s?void 0:s.banner,children:r.field.value!==(null==s?void 0:s.banner)?(0,i.jsx)(o.JO,{name:"trash"}):(0,i.jsx)(o.JO,{name:"edit"})}),(0,i.jsx)("div",{children:(0,i.jsxs)(g,{children:[(0,i.jsx)(y,{src:null==_?void 0:_.src}),l&&(0,i.jsx)(f,{...a.field,...a.fieldState,resetValue:null==s?void 0:s.picture,children:a.field.value!==(null==s?void 0:s.picture)?(0,i.jsx)(o.JO,{name:"trash"}):(0,i.jsx)(o.JO,{name:"edit"})})]})}),(0,i.jsx)(m,{children:(0,i.jsx)(h.Z,{...t.field,...t.fieldState,placeholder:"name",isOwner:l,children:v})})]}),(0,i.jsx)(p,{children:(0,i.jsx)(h.Z,{...n.field,...n.fieldState,placeholder:"description",isOwner:l,children:x})})]})});_.displayName="NodeDetailHeader";var b=_},8978:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(85893),r=n(19521),o=n(67294),a=n(63608);let l=(0,r.ZP)(a.Z).attrs(e=>{let{$status:t,...n}=e;return{$color:"active"===t||"linked"===t?"main1":"main2",...n}}).withConfig({displayName:"styles__StyledStatusIcon",componentId:"sc-1qd83xw-0"})([""]),s=(0,o.memo)(e=>{let{status:t,...n}=e;return(0,i.jsxs)(d,{...n,children:[(0,i.jsx)(l,{$status:t}),(0,i.jsx)(c,{className:"tp-body3",children:t})]})});s.displayName="NodeStatus";var d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-b7ni1q-0"})({display:"flex",alignItems:"center",gap:"0.375rem",paddingTop:"0.375rem"}),c=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-b7ni1q-1"})({textTransform:"capitalize"});let u=(0,o.memo)(e=>{let{status:t,...n}=e;return(0,i.jsxs)(p,{...n,children:[(0,i.jsx)("div",{className:"tp-body fs-10",children:"STATUS"}),(0,i.jsx)(s,{status:t||"waiting"})]})});u.displayName="NodeDetailStatus";var m=u,p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-jhruyg-0"})({backgroundColor:"#00000033",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.375rem",paddingBottom:"0.375rem"})},10159:function(e,t,n){n.d(t,{c:function(){return l}});var i=n(7251),r=n(67294),o=n(87536),a=n(1604);function l(e){let{onSubmit:t,onSuccess:n,onError:l,readyDeps:s=[],...d}=e,c=(0,o.cI)(d);(0,r.useEffect)(()=>{"object"==typeof d.defaultValues&&c.reset(d.defaultValues)},s);let[u,m]=(0,r.useState)({data:void 0,error:void 0,loading:!1}),[p,{onLoad:f,onSuccess:g,onError:y}]=(0,i.g7)({flushData:!0,state:u,setState:m,onSuccess:n,onError:l}),h=(0,r.useCallback)(async e=>{try{f();let n=await t(e);g(n)}catch(t){let e=t instanceof a.jm?Error("Validation error, check highlighted form fields"):(null==t?void 0:t.cause)||t;c.setError("root.serverError",{...e,message:null==e?void 0:e.message}),y(e)}},[c,y,f,t,g]),v=(0,r.useCallback)(async e=>{let t;if(console.log(e),!t){let n=function e(t){let[n]=Object.entries(t);if(!n)return;let[i,r]=n;if(Array.isArray(r)){let t=r[r.length-1];return e(t)}return[i,r]}(e);if(n){let[e,i]=n,r="string"==typeof i?i:(null==i?void 0:i.message)?": ".concat(i.message):(null==i?void 0:i.type)?': "'.concat(null==i?void 0:i.type,'" validation not satisfied'):"";t=Error('Error on field "'.concat(e,'"').concat(r))}}t||(t=Error("Validation error")),y(t)},[y]),x=(0,r.useMemo)(()=>c.handleSubmit(h,v),[c,h,v]);return{...c,requestState:p,handleSubmit:x}}},15457:function(e,t,n){n.d(t,{_:function(){return s}});var i=n(67294),r=n(11163),o=n(7251),a=n(48107),l=n(94461);function s(e){var t;let{node:n,nodes:s}=e,d=(0,r.useRouter)(),c=(0,o.lm)(),[u]=(0,l.mr)(),{account:m}=u.account,p=(0,i.useMemo)(()=>new a.B(m),[m]),f=(0,i.useCallback)(async()=>{if(n){if(!c)throw Error("Notification not ready");try{let e=null==n?void 0:n.hash;await p.removeNode(e),c.add({variant:"success",title:"Success",text:'Your node "'.concat(n.hash,'" was deleted successfully.')}),d.replace(".")}catch(e){null==c||c.add({variant:"error",title:"Error",text:e.message})}}},[n,p,c,d]),{nodes_with_identical_asn:g}=(null==n?void 0:null===(t=n.scoreData)||void 0===t?void 0:t.measurements)||{},{base_latency:y,measured_at:h}=(null==n?void 0:n.metricsData)||{},v=(0,i.useMemo)(()=>y?"".concat(Number(100*(y||0)).toFixed(2)," %"):void 0,[y]),x=(0,i.useMemo)(()=>{if(!h)return;let e=new Date(1e3*h);return"".concat(e.toLocaleDateString()," (").concat(e.toLocaleTimeString(),")")},[h]),w=(0,i.useMemo)(()=>{if(!n)return;let e=new Date((null==n?void 0:n.time)*1e3);return"".concat(e.toLocaleDateString())},[n]),_=(0,i.useMemo)(()=>(null==n?void 0:n.owner)===(null==m?void 0:m.address),[m,n]);return{node:n,nodesOnSameASN:g,baseLatency:v,lastMetricsCheck:x,creationDate:w,isOwner:_,handleRemove:f}}}}]);