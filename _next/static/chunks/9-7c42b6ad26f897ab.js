(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{88459:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(85893),n=r(67294),i=r(7251),s=r(19521);let o=s.ZP.div.attrs((0,i.PT)("fx-dark-main0")).withConfig({displayName:"styles__StyledContainer",componentId:"sc-1hw364q-0"})(["",""],{borderRadius:"1.5rem",backgroundColor:"transparent !important",padding:"1.5rem"}),c=(0,n.memo)(e=>{let{children:t,...r}=e;return(0,a.jsx)(o,{...r,children:t})});c.displayName="Card1";var l=c},63608:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(19521);let n=a.ZP.div.withConfig({displayName:"styles__StyledDot",componentId:"sc-1dj2jnl-0"})(e=>{var t;let{theme:r,$color:n="main0",$gradient:i,$size:s="1rem"}=e,o=i?null===(t=r.gradient[i])||void 0===t?void 0:t.fn:void 0,c=o||r.color[n]||n;return[{flexShrink:"0",borderRadius:"9999px"},(0,a.iv)(["background:",";width:",";height:",";"],c,s,s)]});var i=n},29512:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(85893),n=r(19521),i=r(67294),s=r(25675),o=r.n(s),c=r(7251),l=r(33358);let d=(0,i.memo)(e=>{let{hash:t,name:r,picture:n}=e;return(0,a.jsxs)(h,{children:[n?(0,a.jsx)(p,{src:"".concat(l.pf,"/api/v0/storage/raw/").concat(n),alt:"Node profile image",width:24,height:24}):(0,a.jsx)(v,{name:"circle-nodes",size:"xl"}),(0,a.jsxs)(m,{className:"fs-xs",children:[(0,a.jsxs)(g,{children:["ID: ",t.slice(-10)]}),r.substring(0,30)]})]})});d.displayName="NameCell";var u=d,h=(0,n.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-vt9uzz-0"})({display:"flex",alignItems:"center",gap:"0.75rem"}),p=(0,n.ZP)(o()).withConfig({displayName:"cmp___StyledImage",componentId:"sc-vt9uzz-1"})({height:"1.5rem",width:"1.5rem",borderRadius:"9999px"}),v=(0,n.ZP)(c.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-vt9uzz-2"})({borderRadius:"9999px"}),m=(0,n.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-vt9uzz-3"})({lineHeight:"1rem"}),g=(0,n.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-vt9uzz-4"})({whiteSpace:"nowrap"})},68461:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7251),n=r(19521);let i=(0,n.ZP)(a.iA).attrs(e=>({borderType:"solid",oddRowNoise:!0,...e})).withConfig({displayName:"styles__StyledTable",componentId:"sc-gp6li6-0"})(["thead th{font-size:0.8125rem;","}td,th{padding:0.75rem 1rem;width:0;}tr,td{border:none;}"],{whiteSpace:"nowrap"});var s=i},88968:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(85893),n=r(19521),i=r(67294),s=r(63608);let o=(0,n.ZP)(s.Z).attrs(e=>{let{$score:t,...r}=e;return{$color:t>=.8?"main1":t>=.5?"main0":"error",...r}}).withConfig({displayName:"styles__StyledScoreIcon",componentId:"sc-347ktn-0"})([""]),c=(0,i.memo)(e=>{let{score:t,showPercentage:r=!0}=e,n=Number(100*t).toFixed(2);return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{$score:t}),r&&(0,a.jsxs)(a.Fragment,{children:[n,"%"]})]})});c.displayName="ScoreCell";var l=c,d=(0,n.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-gpthn5-0"})({display:"flex",alignItems:"center",gap:"0.75rem"})},64486:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var a=r(33358),n=r(8395),i=r(34853);let{post:s}=n.messages;class o{async getCCNNodes(){var e,t,r,a;let n=await fetch("https://api2.aleph.im/api/v0/aggregates/0xa1B3bb7d2332383D96b7796B908fB7f7F3c2Be10.json?keys=corechannel&limit=100"),i=await n.json(),s=null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(t=e.corechannel)||void 0===t?void 0:t.resource_nodes,o=null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(a=r.corechannel)||void 0===a?void 0:a.nodes;return o=this.parseResourceNodes(o,s),o=await this.parseScores(o,!1),console.log(o=await this.parseMetrics(o,!1)),o}async getCRNNodes(){var e,t,r,a;let n=await fetch("https://api2.aleph.im/api/v0/aggregates/0xa1B3bb7d2332383D96b7796B908fB7f7F3c2Be10.json?keys=corechannel&limit=100"),i=await n.json(),s=null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(t=e.corechannel)||void 0===t?void 0:t.nodes,o=null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(a=r.corechannel)||void 0===a?void 0:a.resource_nodes;return o=this.parseParentNodes(o,s),o=await this.parseScores(o,!0),console.log(o=await this.parseMetrics(o,!0)),o}async getLatestVersion(e){return this.isCRN(e)?this.getLatestCRNVersion():this.getLatestCCNVersion()}async getLatestCCNVersion(){return(0,i.vM)("https://api.github.com/repos/aleph-im/pyaleph/releases","ccn_versions",3e5,i.dU)}async getLatestCRNVersion(){return(0,i.vM)("https://api.github.com/repos/aleph-im/aleph-vm/releases","crn_versions",3e5,i.dU)}isCRN(e){return Object.hasOwn(e,"parent")}isKYCRequired(e){return void 0!==e.registration_url&&""!==e.registration_url}isKYCCleared(e){var t;return!!this.account&&(null===(t=e.authorized)||void 0===t?void 0:t.includes(this.account.address))}isLocked(e){return!!e.locked&&!(this.isKYCRequired(e)&&this.isKYCCleared(e))}isUserNode(e){return!!this.account&&this.account.address===e.owner}isUserStake(e){return!!this.account&&void 0!==e.stakers[this.account.address]}isStakeable(e,t,r){return this.account?t<1e4?[!1,"You need at least 10000 ALEPH to stake"]:e.total_staked>=75e4?[!1,"Too many ALEPH staked on that node"]:this.isLocked(e)?[!1,"This node is locked"]:this.isUserNode(e)?[!1,"You can't stake while you operate a node"]:r.length?[!0,"Add this node to your staking (each node will have an equal part of your total balance staked)"]:[!0,"Stake ".concat(t.toFixed(2)," ALEPH in this node")]:[!1,"Please login"]}isNodeExperimental(e,t){var r,a;let n=(0,i.Jm)((null===(r=e.metricsData)||void 0===r?void 0:r.version)||"");return n!==(null===(a=e.metricsData)||void 0===a?void 0:a.version)&&n===t.prerelease}isNodeLatest(e,t){var r;return(null===(r=e.metricsData)||void 0===r?void 0:r.version)===t.latest}isNodePrerelease(e,t){var r;return(null===(r=e.metricsData)||void 0===r?void 0:r.version)===t.prerelease}isNodeUptodate(e,t){return this.isNodeLatest(e,t)||this.isNodePrerelease(e,t)||this.isNodeExperimental(e,t)}isNodeOutdated(e,t){var r;return t.outdated===(null===(r=e.metricsData)||void 0===r?void 0:r.version)}parseResourceNodes(e,t){let r=t.reduce((e,t)=>{let r=e[t.parent]=e[t.parent]||[];return r.push(t),e},{});return e.map(e=>{let t=r[e.hash]||[];return t?{...e,crnsData:t}:e})}parseParentNodes(e,t){let r=t.reduce((e,t)=>(e[t.hash]=t,e),{});return e.map(e=>{let t=r[e.parent];return t?{...e,parentData:t}:e})}async parseScores(e,t){let r=t?await this.getCRNScores():await this.getCCNScores(),a=new Map(r.map(e=>[e.node_id,e]));return e.map(e=>{let t=a.get(e.hash);return t?{...e,score:t.total_score,decentralization:t.decentralization,performance:t.performance,version:t.version,scoreData:t}:e})}async parseMetrics(e,t){let r=t?await this.getCRNMetrics():await this.getCCNMetrics(),a=new Map(r.map(e=>[e.node_id,e]));return e.map(e=>{let t=a.get(e.hash);return t?{...e,metricsData:t}:e})}async getScores(){var e,t;let r=await s.Get({types:"aleph-scoring-scores",addresses:[a.id],pagination:1,page:1});return null===(e=null===(t=r.posts[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.scores}async getMetrics(){var e,t;let r=await s.Get({types:"aleph-network-metrics",addresses:[a.id],pagination:1,page:1});return null===(e=null===(t=r.posts[0])||void 0===t?void 0:t.content)||void 0===e?void 0:e.metrics}async getCCNScores(){let e=await this.getScores();return e.ccn}async getCCNMetrics(){let e=await this.getMetrics();return e.ccn}async getCRNScores(){let e=await this.getScores();return e.crn}async getCRNMetrics(){let e=await this.getMetrics();return e.crn}constructor(e,t=a.Nr){this.account=e,this.channel=t}}},47630:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var a=r(33358),n=r(34853),i=r(67572),s=r(57492);class o{async stake(e){if(!this.account)throw Error("Invalid account");await i.post.Publish({account:this.account,postType:"corechan-operation",storageEngine:s.ItemType.inline,ref:e,APIServer:a.pf,channel:"FOUNDATION",content:{tags:["stake-split","mainnet"],action:"stake-split"}})}async unStake(e){if(!this.account)throw Error("Invalid account");await i.post.Publish({account:this.account,postType:"corechan-operation",storageEngine:s.ItemType.inline,ref:e,APIServer:a.pf,channel:"FOUNDATION",content:{tags:["unstake","mainnet"],action:"unstake"}})}isCRN(e){return Object.hasOwn(e,"parent")}activeNodes(e){return e.filter(e=>this.isCRN(e)?"linked"===e.status:"active"===e.status)}totalStaked(e){return e.reduce((e,t)=>e+t.total_staked,0)}totalStakedByOperators(e){return 2e5*e.length}totalStakedInActive(e){return this.totalStaked(this.activeNodes(e))}totalPerDay(e){let t=this.activeNodes(e).length;return t?15e3*((Math.log10(t)+1)/3):t}totalPerAlephPerDay(e){let t=this.totalStakedInActive(e);return t?this.totalPerDay(e)/t:0}currentAPY(e){return(1+this.totalPerAlephPerDay(e))**365-1}computeEstimatedStakersAPY(e,t){let r=0;if(e.score){let a=Math.min(e.crnsData.filter(e=>e.score>=.2).length,3),i=(0,n._1)(e.score,.2,.8,0,1);r=this.currentAPY(t)*i*(1-(3-a)/10)}return r}computeCCNRewards(e,t){let r=0;if(e.score){let a=Math.min(e.crnsData.length,3),i=this.activeNodes(t).length,s=(0,n._1)(e.score,.2,.8,0,1);r=15e3/i*s*(1-(3-a)/10)}return r}computeCRNRewards(e){if(!e.parent||!e.score||!e.decentralization)return 0;let{decentralization:t,score:r}=e;return(500+2500*t)*(0,n._1)(r,.2,.8,0,1)}constructor(e,t=a.Nr){this.account=e,this.channel=t}}},9700:function(e,t,r){"use strict";r.d(t,{Q:function(){return i}});var a=r(67294),n=r(7251);function i(e){let{doRequest:t,triggerOnMount:r,triggerDeps:i=[],...s}=e,[o,{onLoad:c,onSuccess:l,onError:d}]=function(){let{onSuccess:e,onError:t,onLoad:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,n.lm)(),[s,o]=(0,a.useState)({data:void 0,loading:!1,error:void 0}),c=(0,a.useCallback)(t=>{function r(){i&&i.add({variant:"success",title:"Operation complete"})}return o({data:t,loading:!1,error:void 0}),e?e(t,r):r()},[i,e]),l=(0,a.useCallback)(e=>{function r(e){var t;let r=e.message,a=null===(t=null==e?void 0:e.cause)||void 0===t?void 0:t.message;i&&i.add({variant:"error",title:"Error",text:r,detail:a})}return o({data:void 0,loading:!1,error:e}),t?t(e,r):r(e)},[t,i]),d=(0,a.useCallback)(()=>{o({data:void 0,loading:!0,error:void 0}),r&&r()},[r]);return[s,{onSuccess:c,onError:l,onLoad:d}]}(s),u=(0,a.useCallback)(async()=>{c();try{let e=await t();l(e);return}catch(e){d(e)}},[t,c,l,d]);return(0,a.useEffect)(()=>{r&&u()},i),{...o,request:u}}},70573:function(){},35883:function(){},78486:function(){},42480:function(){},75992:function(){},78110:function(){},28325:function(){},33370:function(){}}]);